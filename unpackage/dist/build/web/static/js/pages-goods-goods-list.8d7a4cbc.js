(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods-goods-list"],{"0eef":function(t,e,n){"use strict";n.r(e);var a=n("2728"),i=n("22ee");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("2dbe");var s=n("f0c5"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"66eeddfb",null,!1,a["a"],void 0);e["default"]=r.exports},"0ef4":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */',""]),t.exports=e},"0f3f":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={useEmpty:n("0eef").default,useLoadmore:n("372d").default,useTotop:n("b7c4").default,useHotGoods:n("ba80").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{class:t.empty?"":"padding-top-big"},[t.empty?n("use-empty",{attrs:{"e-style":"round","e-type":"search",tip:"搜索数据为空","btn-tip":"重新搜索",height:"70vh",auto:!1},on:{goto:function(e){arguments[0]=e=t.$handleEvent(e),t.tosearch.apply(void 0,arguments)}}}):n("v-uni-view",[n("v-uni-view",{staticClass:"navbar pos-f w-full dflex bg-main",style:{position:t.headerPosition}},[n("v-uni-view",{staticClass:"nav-item dflex-c flex1 pos-r h-full",class:{active:0===t.filterIndex},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navbarClick(0)}}},[t._v("综合排序")]),n("v-uni-view",{staticClass:"nav-item dflex-c flex1 pos-r h-full",class:{active:1===t.filterIndex},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navbarClick(1)}}},[t._v("销量优先")]),n("v-uni-view",{staticClass:"nav-item dflex-c flex1 pos-r h-full",class:{active:2===t.filterIndex},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navbarClick(2)}}},[n("v-uni-text",[t._v("价格")]),n("v-uni-view",{},[n("v-uni-view",{staticClass:"iconfont iconjiantou02 ft-dark dflex-c",class:{active:1===t.priceOrder&&2===t.filterIndex}}),n("v-uni-view",{staticClass:"iconfont iconjiantou ft-dark dflex-c",class:{active:2===t.priceOrder&&2===t.filterIndex}})],1)],1)],1),n("v-uni-view",{staticClass:"goods-list"},[n("v-uni-view",{staticClass:"list dflex-b dflex dflex-wrap-w w-full"},t._l(t.goodsDatas,(function(e,a){return n("v-uni-view",{key:a,staticClass:"item bg-main border-radius-sm padding-bottom-sm",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.togoods(e)}}},[n("v-uni-view",{staticClass:"image-wrapper"},[n("v-uni-image",{attrs:{mode:"aspectFill","lazy-load":!0,src:e.img}})],1),n("v-uni-text",{staticClass:"title clamp padding-sm"},[t._v(t._s(e.name))]),n("v-uni-view",{staticClass:"padding-left-sm dflex-b"},[n("v-uni-text",{staticClass:"price"},[t._v(t._s(e.price/100))]),n("v-uni-text",{staticClass:"ft-dark margin-right-sm fs-xs"},[t._v("已售 "+t._s(e.sale_cnt))])],1)],1)})),1)],1),n("use-loadmore",{attrs:{type:t.loadmoreType}})],1),n("use-totop",{ref:"usetop"}),t.empty?n("use-hot-goods",{attrs:{"title-type":"round",title:"猜你想要"}}):t._e()],1)},o=[]},"195b":function(t,e,n){"use strict";var a=n("8838"),i=n.n(a);i.a},"1b2b":function(t,e,n){"use strict";n.r(e);var a=n("3920"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"22ee":function(t,e,n){"use strict";n.r(e);var a=n("5b25"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},2728:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"use-empty-container tac",class:"round"==t.eStyle?"padding-sm":"",style:{height:t.height}},[n("v-uni-view",{staticClass:"use-empty h-full dflex-c dflex-flow-c",class:"round"==t.eStyle?"round border-radius bg-main":""},[t.imgurl?n("v-uni-image",{attrs:{src:t.imgurl}}):t._e(),t.tip?n("v-uni-view",{staticClass:"title padding-sm"},[t._v(t._s(t.tip))]):t._e(),n("v-uni-button",{staticClass:"no-border use-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.to.apply(void 0,arguments)}}},[t._v(t._s(t.btnTip))])],1)],1)},i=[]},"2dbe":function(t,e,n){"use strict";var a=n("b458"),i=n.n(a);i.a},3582:function(t,e,n){"use strict";var a=n("e350"),i=n.n(a);i.a},"372d":function(t,e,n){"use strict";n.r(e);var a=n("8bbd"),i=n("3fd8");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("a3a0");var s=n("f0c5"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"fb8b119e",null,!1,a["a"],void 0);e["default"]=r.exports},3920:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3");var a={props:{top:{type:Number,default:100},right:{type:String,default:"30"},bottom:{type:String,default:"30"},duration:{type:Number,default:120},scrollTop:{type:Number,default:0}},watch:{scrollTop:function(t,e){this.s_top=t,this.change()}},data:function(){return{s_top:0,visible:!1}},methods:{totop:function(){uni.pageScrollTo({scrollTop:0,duration:this.duration}),this.$emit("to",{type:"to",scrollTop:this.s_top})},change:function(t){this.s_top=t,this.s_top>this.top?this.visible||(this.visible=!0):this.visible&&(this.visible=!1)}}};e.default=a},"3fce":function(t,e,n){"use strict";n.r(e);var a=n("5908"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"3fd8":function(t,e,n){"use strict";n.r(e);var a=n("66ed"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"550a":function(t,e,n){"use strict";n.r(e);var a=n("0f3f"),i=n("3fce");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("3582");var s=n("f0c5"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"47c9a0e9",null,!1,a["a"],void 0);e["default"]=r.exports},5908:function(t,e,n){"use strict";n("7a82");var a=n("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("d3b7"),n("159b"),n("14d9"),n("99af");var i=a(n("f07e")),o=a(n("d0ff")),s=a(n("c964")),r={data:function(){return{empty:!1,headerPosition:"fixed",filterIndex:0,priceOrder:0,goodsDatas:[],loadmoreType:"more",reqdata:{page:1,rows:8,sidx:"sort",sord:"asc"},scrollTop:0}},watch:{goodsDatas:function(t){var e=0===t.length;this.empty!==e&&(this.empty=e)}},onPageScroll:function(t){t.scrollTop>=0?this.headerPosition="fixed":this.headerPosition="absolute",this.$refs.usetop.change(t.scrollTop)},onPullDownRefresh:function(){this.loadData("refresh")},onReachBottom:function(){this.loadData()},onLoad:function(t){var e="搜索列表";for(var n in t&&t.hot?e="热门推荐":t&&t.limited&&(e="限时精选"),uni.setNavigationBarTitle({title:e}),t)this.reqdata[n]=decodeURIComponent(t[n]);this.loadData()},methods:{loadData:function(){var t=arguments,e=this;return(0,s.default)((0,i.default)().mark((function n(){var a,s;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.length>0&&void 0!==t[0]?t[0]:"add",s=t.length>1?t[1]:void 0,"loading"!==e.loadmoreType){n.next=4;break}return n.abrupt("return");case 4:if(1!=s&&"refresh"!=a||(e.reqdata.page=1),"add"!==a){n.next=11;break}if("nomore"!==e.loadmoreType){n.next=8;break}return n.abrupt("return");case 8:e.loadmoreType="loading",n.next=12;break;case 11:e.loadmoreType="more";case 12:e.$func.usemall.call("goods/list",e.reqdata).then((function(t){if(200===t.code)if(t.datas&&t.datas.goods.length>0){1!=s&&"refresh"!=a||(e.goodsDatas=[]);var n=[];t.datas.goods.forEach((function(t){"销售中"===t.state&&n.push(t)})),e.goodsDatas=[].concat((0,o.default)(e.goodsDatas),n),t.datas.goods.length>=e.reqdata.rows?(e.reqdata.page++,e.loadmoreType="more"):e.loadmoreType="nomore"}else e.loadmoreType="nomore";0===e.goodsDatas.length&&(e.empty=!0),1==s?uni.hideLoading():"refresh"==a&&uni.stopPullDownRefresh()}));case 13:case"end":return n.stop()}}),n)})))()},navbarClick:function(t){this.filterIndex===t&&2!==t||(this.filterIndex=t,this.priceOrder=2===t?1===this.priceOrder?2:1:0,0==this.filterIndex?(this.reqdata.sidx="sort",this.reqdata.sord="asc"):1==this.filterIndex?(this.reqdata.sidx="sale_cnt",this.reqdata.sord="desc"):2==this.filterIndex&&(this.reqdata.sidx="price",1==this.priceOrder?this.reqdata.sord="desc":2==this.priceOrder&&(this.reqdata.sord="asc")),uni.pageScrollTo({duration:300,scrollTop:0}),this.loadData("refresh",1),uni.showLoading({title:"正在加载"}))},tosearch:function(){this.$api.pages().length>1?uni.navigateBack():this.$api.tosearch()},togoods:function(t){this.$api.togoods({id:t._id})}}};e.default=r},"5b25":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("7db0"),n("d3b7");var a={props:{eStyle:{type:String,default:"square"},eType:{type:String,default:"other"},tip:{type:String,default:"暂无数据"},btnTip:{type:String,default:"去逛逛"},btnGoto:{type:String,default:"/pages/tabbar/home"},auto:{type:Boolean,default:!0},height:{type:String,default:"100vh"}},computed:{dtype:{get:function(){var t=this;console.log("get dtype",arguments);var e=this.imgs.find((function(e){return e.type==t.eType}));return this.imgurl=e?e.url:this.imgurl_dft,this.eType},set:function(t){console.log("set dtype",arguments)}}},data:function(){return{imgurl_dft:"/static/images/empty/empty.jpg",imgurl:"",imgs:[{type:"cart",url:"/static/images/empty/cart.jpg"},{type:"search",url:"/static/images/empty/search.jpg"},{type:"other",url:"/static/images/empty/empty.jpg"}]}},methods:{to:function(){this.$emit("goto",{type:"goto"}),this.auto&&uni.switchTab({url:this.btnGoto})}}};e.default=a},"66ed":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{type:{type:String,default:"more"},tip:{type:String,default:""},defaults:{type:Object,default:function(){return{more:"上拉显示更多",loading:"用云 · 让开发更简单",nomore:"已经到底了"}}}},data:function(){return{}},computed:{},methods:{}};e.default=a},"70d1":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-47c9a0e9]{background-color:#f5f5f5}body.?%PAGE?%[data-v-47c9a0e9]{background-color:#f5f5f5}.navbar[data-v-47c9a0e9]{top:var(--window-top);left:0;height:%?100?%;box-shadow:0 %?2?% %?10?% rgba(0,0,0,.06);z-index:10}.navbar .nav-item[data-v-47c9a0e9]{color:#303133;font-size:%?30?%}.navbar .nav-item.active[data-v-47c9a0e9]:after{content:"";position:absolute;left:50%;bottom:0;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:%?120?%;height:0;border-bottom:%?4?% solid #ff6a6c}.navbar .iconfont[data-v-47c9a0e9]{width:%?30?%;height:%?14?%;font-size:%?20?%;line-height:1;margin-left:%?4?%}.goods-list .list[data-v-47c9a0e9]{padding:0 3vw %?20?%}.goods-list .item[data-v-47c9a0e9]{width:46vw;overflow:hidden;margin-top:2vw}.goods-list .item[data-v-47c9a0e9]:nth-child(2n){margin-left:1vw}.goods-list .item[data-v-47c9a0e9]:nth-child(2n + 1){margin-right:1vw}.goods-list .image-wrapper[data-v-47c9a0e9]{width:100%;height:%?300?%;overflow:hidden}.goods-list .image-wrapper uni-image[data-v-47c9a0e9]{width:100%;height:100%;opacity:1}',""]),t.exports=e},8838:function(t,e,n){var a=n("cb5a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("59d5bdb1",a,!0,{sourceMap:!1,shadowMode:!1})},"8bbd":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"use-loadmore padding-tb-sm dflex-c"},["nomore"!==this.type?e("v-uni-view",{staticClass:"iconfont iconxiangqing animated rotate margin-right-sm ft-base"}):this._e(),e("v-uni-text",{staticClass:"ft-dark"},[this._v(this._s(this.tip||this.defaults[this.type]))])],1)},i=[]},a3a0:function(t,e,n){"use strict";var a=n("e1b0"),i=n.n(a);i.a},aecf:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.use-empty-container .use-empty .round[data-v-66eeddfb]{padding:25% %?50?%}.use-empty-container .use-empty .round uni-button[data-v-66eeddfb]{width:%?220?%}.use-empty-container .use-empty uni-image[data-v-66eeddfb]{width:%?160?%;height:%?160?%}.use-empty-container .use-empty .title[data-v-66eeddfb]{color:silver}.use-empty-container .use-empty .use-btn[data-v-66eeddfb]{font-size:%?30?%;display:inline-block}',""]),t.exports=e},b458:function(t,e,n){var a=n("aecf");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("50437071",a,!0,{sourceMap:!1,shadowMode:!1})},b7c4:function(t,e,n){"use strict";n.r(e);var a=n("ef87"),i=n("1b2b");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("195b");var s=n("f0c5"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"74bbadd3",null,!1,a["a"],void 0);e["default"]=r.exports},cb5a:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */',""]),t.exports=e},e1b0:function(t,e,n){var a=n("0ef4");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("b2597f26",a,!0,{sourceMap:!1,shadowMode:!1})},e350:function(t,e,n){var a=n("70d1");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("e66c6e34",a,!0,{sourceMap:!1,shadowMode:!1})},ef87:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"use-totop fixed-top animated",class:t.visible?"fade-in":"dn",style:{bottom:t.bottom+"rpx",right:t.right+"rpx"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.totop.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"iconfont iconzhiding"})],1)},i=[]}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tabbar-home"],{"195b":function(t,a,e){"use strict";var i=e("8838"),n=e.n(i);n.a},"1b2b":function(t,a,e){"use strict";e.r(a);var i=e("3920"),n=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(o);a["default"]=n.a},"1da0":function(t,a,e){"use strict";e("7a82");var i=e("ee27").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(e("f07e")),o=i(e("c964")),s=i(e("f3f3")),r=e("26cb"),c={computed:(0,s.default)({},(0,r.mapState)(["islogin","member"])),data:function(){return{searchAuto:!0,searchTip:"请输入搜索关键字",swiperDatas:[],categoryDatas:[],goodsLimitDatas:[],goodsHotDatas:[],scrollTop:0,navHeight:0}},onLoad:function(){console.log("is login: "+this.islogin),this.islogin?uni.setTabBarItem({index:2,pagePath:"/pages/tabbar/cart",iconPath:"/static/images/tabbar/cart.png",selectedIconPath:"/static/images/tabbar/cart-active.png",text:"购物车"}):uni.setTabBarItem({index:2,pagePath:"/pages/tabbar/shopping",iconPath:"/static/images/tabbar/shopping.png",selectedIconPath:"/static/images/tabbar/shopping-active.png",text:"购物圈"})},onPageScroll:function(t){this.$refs.usetop.change(t.scrollTop)},onShow:function(){this.loadData()},onPullDownRefresh:function(){this.loadData((function(){uni.stopPullDownRefresh()}))},onShareAppMessage:function(t){var a=0;return this.member&&this.member._id&&(a=this.member._id),{title:"用云电商",path:"/pages/tabbar/home?mid=".concat(a),success:function(t){console.log("转发成功",t)},fail:function(t){console.log("转发失败",t)}}},methods:{loadData:function(t){var a=this;return(0,o.default)((0,n.default)().mark((function e(){return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$func.usemall.call("app/mp/home",{rows:8}).then((function(e){200===e.code&&(a.swiperDatas=e.datas.carousel||[],a.categoryDatas=e.datas.category||[],a.goodsLimitDatas=e.datas.limited||[],a.goodsHotDatas=e.datas.hot||[],"function"===typeof t&&t())}));case 2:case"end":return e.stop()}}),e)})))()},search:function(){console.log("home search")},topage:function(t){t&&"网页"==t.type?uni.navigateTo({url:"/pages/content/web?url=".concat(t.url)}):t&&"页面"==t.type?uni.navigateTo({url:"".concat(t.url)}):t.id&&this.$api.togoods({id:t._id})},togoods:function(t){this.$api.togoods({id:t._id})},limit:function(){this.$api.togoodslist({limited:1})}},mounted:function(){this.navHeight=50}};a.default=c},2925:function(t,a,e){"use strict";e.r(a);var i=e("1da0"),n=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(o);a["default"]=n.a},"36f0":function(t,a,e){var i=e("538e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("5ed958d0",i,!0,{sourceMap:!1,shadowMode:!1})},"387c":function(t,a,e){var i=e("4b80");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("45d2c2d8",i,!0,{sourceMap:!1,shadowMode:!1})},3920:function(t,a,e){"use strict";e("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("a9e3");var i={props:{top:{type:Number,default:100},right:{type:String,default:"30"},bottom:{type:String,default:"30"},duration:{type:Number,default:120},scrollTop:{type:Number,default:0}},watch:{scrollTop:function(t,a){this.s_top=t,this.change()}},data:function(){return{s_top:0,visible:!1}},methods:{totop:function(){uni.pageScrollTo({scrollTop:0,duration:this.duration}),this.$emit("to",{type:"to",scrollTop:this.s_top})},change:function(t){this.s_top=t,this.s_top>this.top?this.visible||(this.visible=!0):this.visible&&(this.visible=!1)}}};a.default=i},4494:function(t,a,e){"use strict";e.r(a);var i=e("4fd4"),n=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(o);a["default"]=n.a},"4b80":function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.use-header-placeholder[data-v-62e38dc8]{height:%?100?%}.use-header[data-v-62e38dc8]{height:%?100?%}.use-search[data-v-62e38dc8]{height:%?70?%;line-height:%?70?%;background-color:#f5f5f5}.use-search uni-text[data-v-62e38dc8]{color:silver}.use-search .iconfont[data-v-62e38dc8]{font-size:%?34?%;color:silver}',""]),t.exports=a},"4fd4":function(t,a,e){"use strict";e("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("a9e3");var i={props:{fixed:{type:[Number,Boolean],default:!1},placeholder:{type:[Number,Boolean],default:!0},searchAuto:{type:[Number,Boolean],default:!0},searchTip:{type:String,default:"搜索关键字"}},data:function(){return{}},methods:{search:function(){this.$emit("search",{type:"search"}),this.searchAuto&&uni.navigateTo({url:"/pages/home/search/search"})}}};a.default=i},"538e":function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 轮播图区 */.swiper-area .swiper[data-v-a719a0c4]{height:%?240?%}\n/* 分类区 */.category-area[data-v-a719a0c4]{padding:%?60?% 0 %?30?% 0}.category-area .category-item[data-v-a719a0c4]{font-size:%?26?%;color:#303133;width:25%}.category-area uni-image[data-v-a719a0c4]{width:%?96?%;height:%?96?%}\n/* 限时精选区 */.limit-area[data-v-a719a0c4]{min-height:%?240?%}.limit-area .item[data-v-a719a0c4]{width:%?240?%}.limit-area .item uni-image[data-v-a719a0c4]{width:%?240?%;height:%?240?%}',""]),t.exports=a},"6f70":function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return i}));var i={useHeader:e("f619").default,useListTitle:e("77a79").default,useHotGoods:e("ba80").default,useTotop:e("b7c4").default},n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"box-sizing-b w-full"},[e("use-header",{attrs:{"search-tip":t.searchTip,"search-auto":t.searchAuto},on:{search:function(a){arguments[0]=a=t.$handleEvent(a),t.search.apply(void 0,arguments)}}}),t.swiperDatas&&t.swiperDatas.length>0?e("v-uni-view",{staticClass:"swiper-area pos-r"},[e("v-uni-swiper",{staticClass:"swiper w-full",attrs:{autoplay:!0,"indicator-dots":!0,"indicator-color":"#f7f7f7","indicator-active-color":"#ff6a6c"}},t._l(t.swiperDatas,(function(a,i){return e("v-uni-swiper-item",{key:i,staticClass:"swiper-item padding-lr wh-full box-sizing-b"},[e("v-uni-view",{staticClass:"wh-full",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.topage(a)}}},[e("v-uni-image",{staticClass:"border-radius wh-full",attrs:{mode:"aspectFill","lazy-load":!0,src:a.img}})],1)],1)})),1)],1):t._e(),t.categoryDatas&&t.categoryDatas.length>0?e("v-uni-view",{staticClass:"category-area dflex dflex-wrap-w"},t._l(t.categoryDatas,(function(a,i){return e("v-uni-view",{key:i,staticClass:"category-item dflex dflex-flow-c margin-bottom-sm",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.topage(a)}}},[e("v-uni-image",{staticClass:"margin-bottom-xs",attrs:{"lazy-load":!0,src:a.img}}),e("v-uni-text",{staticClass:"tac clamp"},[t._v(t._s(a.name))])],1)})),1):t._e(),e("v-uni-view",{staticClass:"gap"}),e("use-list-title",{attrs:{title:"限时精选",size:"32",fwt:"600",color:"#333",iconfont:"icondaishouhuo-"},on:{goto:function(a){arguments[0]=a=t.$handleEvent(a),t.limit.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"limit-area"},[e("v-uni-scroll-view",{staticClass:"padding-lr",attrs:{"scroll-x":!0}},[e("v-uni-view",{staticClass:"dflex padding-bottom"},t._l(t.goodsLimitDatas,(function(a,i){return e("v-uni-view",{key:i,staticClass:"item margin-right-sm",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.togoods(a)}}},[e("v-uni-image",{staticClass:"border-radius-xs",attrs:{mode:"aspectFill","lazy-load":!0,src:a.img}}),e("v-uni-text",{staticClass:"title clamp padding-bottom-xs"},[t._v(t._s(a.name))]),e("v-uni-text",{staticClass:"price"},[t._v(t._s(a.price/100))]),e("v-uni-text",{staticClass:"m-price"},[t._v(t._s(a.market_price/100))])],1)})),1)],1)],1),e("v-uni-view",{staticClass:"gap"}),e("use-hot-goods",{attrs:{datas:t.goodsHotDatas,autoload:"none",title:"热门推荐"}}),e("use-totop",{ref:"usetop",style:{marginBottom:t.navHeight+"px"}})],1)},o=[]},7761:function(t,a,e){"use strict";e.r(a);var i=e("6f70"),n=e("2925");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(o);e("e2fe");var s=e("f0c5"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"a719a0c4",null,!1,i["a"],void 0);a["default"]=r.exports},"79a1":function(t,a,e){"use strict";var i=e("387c"),n=e.n(i);n.a},8838:function(t,a,e){var i=e("cb5a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("59d5bdb1",i,!0,{sourceMap:!1,shadowMode:!1})},a137:function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return n})),e.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[e("v-uni-view",{staticClass:"use-header dflex padding-lr w-full bg-main",class:t.fixed?"fixed":""},[e("v-uni-view",{staticClass:"use-search dflex-b border-radius-lg padding-lr w-full",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.search.apply(void 0,arguments)}}},[e("v-uni-text",[t._v(t._s(t.searchTip))]),e("v-uni-view",{staticClass:"iconfont iconsousuo-01"})],1)],1),t.fixed&&t.placeholder?e("v-uni-view",{staticClass:"use-header-placeholder"}):t._e()],1)},n=[]},b7c4:function(t,a,e){"use strict";e.r(a);var i=e("ef87"),n=e("1b2b");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(o);e("195b");var s=e("f0c5"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"74bbadd3",null,!1,i["a"],void 0);a["default"]=r.exports},cb5a:function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */',""]),t.exports=a},e2fe:function(t,a,e){"use strict";var i=e("36f0"),n=e.n(i);n.a},ef87:function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return n})),e.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"use-totop fixed-top animated",class:t.visible?"fade-in":"dn",style:{bottom:t.bottom+"rpx",right:t.right+"rpx"},on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.totop.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"iconfont iconzhiding"})],1)},n=[]},f619:function(t,a,e){"use strict";e.r(a);var i=e("a137"),n=e("4494");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(o);e("79a1");var s=e("f0c5"),r=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"62e38dc8",null,!1,i["a"],void 0);a["default"]=r.exports}}]);
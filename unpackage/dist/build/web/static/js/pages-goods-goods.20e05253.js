(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods-goods"],{"01ab":function(t,e,i){"use strict";i("7a82");var a=i("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("f07e")),r=a(i("c964"));i("a9e3"),i("99af"),i("ac1f"),i("00b4"),i("e9c4"),i("d3b7"),i("d9e2"),i("d401");var o=i("fb70"),s=i("3a20"),d=i("d9c2"),c=i("53ad"),u={name:"l-painter",props:{board:Object,pathType:{type:String},fileType:{type:String,default:"png"},quality:{type:Number,default:1},width:[Number,String],height:[Number,String],pixelRatio:Number,customStyle:String,isRenderImage:Boolean,isH5PathToBase64:Boolean,sleep:{type:Number,default:1e3/60},beforeDelay:{type:Number,default:1e3/60},afterDelay:Number},data:function(){return{use2dCanvas:!1,draw:null,ctx:null,canvasHeight:0,canvasWidth:0,layout:new d.Layout,isDrawIng:!1}},computed:{canvasId:function(){return"l-painter".concat(this._uid)},size:function(){return"width:".concat(this.boardWidth,"px; height: ").concat(this.boardHeight,"px;")},dpr:function(){return this.pixelRatio||uni.getSystemInfoSync().pixelRatio},boardWidth:function(){var t=this.board||{},e=t.width;return(0,o.toPx)(this.width||e)},boardHeight:function(){var t=this.board||{},e=t.height,i=this.height,a=this.canvasHeight;return/^auto$/.test(i||e)?a||1:(0,o.toPx)(i||e)}},watch:{size:function(){}},mounted:function(){var t=this;this.$watch("board",function(){var e=(0,r.default)((0,n.default)().mark((function e(i,a){return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("{}"!==JSON.stringify(i)&&i){e.next=2;break}return e.abrupt("return");case 2:if(!t.beforeDelay){e.next=5;break}return e.next=5,(0,o.sleep)(t.beforeDelay);case 5:t.render();case 6:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}(),{deep:!0,immediate:!0})},methods:{update:function(t,e){var i=this;return(0,r.default)((0,n.default)().mark((function a(){return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i.draw=null,i.isDrawIng=!1,a.next=4,new Promise((function(t){return i.$nextTick(t)}));case 4:return a.next=6,(0,o.sleep)(200);case 6:return a.abrupt("return",i.render(t,e));case 7:case"end":return a.stop()}}),a)})))()},render:function(){var t=arguments,e=this;return(0,r.default)((0,n.default)().mark((function i(){var a,d,c,u,l,f,h,v,p,g,m,b,x,w;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=t.length>0&&void 0!==t[0]?t[0]:{},d=t.length>1&&void 0!==t[1]&&t[1],!e.isDrawIng){i.next=4;break}return i.abrupt("return",e.update(a,d));case 4:return e.isDrawIng=!0,c="{}"!=JSON.stringify(a),i.next=8,e.getContext();case 8:if(u=i.sent,l=e.use2dCanvas,f=e.boardWidth,h=e.boardHeight,v=e.board,p=e.canvas,g=e.isH5PathToBase64,m=e.sleep,b=e.afterDelay,!l||p){i.next=12;break}return i.abrupt("return",Promise.reject(new Error("render: fail canvas has not been created")));case 12:if(e.boundary={top:0,left:0,width:f,height:h},d||u.clearRect(0,0,f,h),e.draw&&!c||(e.draw=new s.Draw(u,p,l,g,m),e.draw.listen("progressChange",(function(t){e.$emit("progress",t)}))),e.layout.init(u,e.boundary,g),!(c||v&&"{}"!=JSON.stringify(v))){i.next=20;break}return i.next=19,e.layout.calcNode(c?a:Object.assign({},v,{height:v.type||"auto"!=v.height?v.height:h}));case 19:e.node=i.sent;case 20:if(x=e.layout.layoutHeight,!/auto/.test(e.height||v.height)||e.canvasHeight){i.next=24;break}return e.canvasHeight=x,i.abrupt("return",e.update(a,d));case 24:if(!e.node){i.next=27;break}return i.next=27,null===(w=e.draw)||void 0===w?void 0:w.drawNode(e.node);case 27:return i.next=29,new Promise((function(t){return e.$nextTick(t)}));case 29:if(l||d){i.next=32;break}return i.next=32,e.canvasDraw(u);case 32:if(!b){i.next=35;break}return i.next=35,(0,o.sleep)(b);case 35:return e.$emit("done"),e.isRenderImage&&!d&&e.isDrawIng&&e.canvasToTempFilePath().then(function(){var t=(0,r.default)((0,n.default)().mark((function t(i){var a,r;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("base64"!=e.pathType){t.next=11;break}if(!/^data:image\/(\w+);base64/.test(i.tempFilePath)){t.next=5;break}e.$emit("success",i.tempFilePath),t.next=9;break;case 5:return t.next=7,(0,o.pathToBase64)(i.tempFilePath);case 7:a=t.sent,e.$emit("success",a);case 9:t.next=21;break;case 11:if("url"!=e.pathType){t.next=20;break}if(r="",!/^data:image\/(\w+);base64/.test(i.tempFilePath)){t.next=17;break}return t.next=16,(0,o.base64ToPath)(i.tempFilePath);case 16:r=t.sent;case 17:e.$emit("success",r),t.next=21;break;case 20:e.$emit("success",i.tempFilePath);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$emit("fail",new Error(JSON.stringify(t)))})),e.isDrawIng=!1,i.abrupt("return",Promise.resolve({ctx:u,draw:e.draw,node:e.node}));case 39:case"end":return i.stop()}}),i)})))()},custom:function(t){var e=this;return(0,r.default)((0,n.default)().mark((function i(){var a,r,o;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e.render({},!0);case 2:return a=i.sent,r=a.ctx,o=a.draw,r.save(),i.next=8,t(r,o);case 8:return r.restore(),i.abrupt("return",Promise.resolve(!0));case 10:case"end":return i.stop()}}),i)})))()},single:function(){var t=arguments,e=this;return(0,r.default)((0,n.default)().mark((function i(){var a,r;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:{},i.next=3,e.render(a,!0);case 3:return r=i.sent,i.abrupt("return",Promise.resolve(r));case 5:case"end":return i.stop()}}),i)})))()},canvasDraw:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.ctx;return new Promise((function(i){e.draw(t,i)}))},getContext:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var i,a,r,o,s;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.ctx||!t.inited){e.next=2;break}return e.abrupt("return",Promise.resolve(t.ctx));case 2:return i=t.type,t.use2dCanvas,a=t.dpr,r=t.boardWidth,o=t.boardHeight,s=function(){return new Promise((function(e){uni.createSelectorQuery().in(t).select("#".concat(t.canvasId)).boundingClientRect().exec((function(i){if(i){var a=uni.createCanvasContext(t.canvasId,t);t.inited||(t.inited=!0,t.use2dCanvas=!1,t.canvas=i),t.ctx=(0,c.expand)(a),e(t.ctx)}}))}))},e.abrupt("return",s());case 7:return e.abrupt("return",new Promise((function(e){uni.createSelectorQuery().in(t).select("#".concat(t.canvasId)).node().exec((function(n){var s=n[0].node;s||(t.use2dCanvas=!1,e(t.getContext()));var d=s.getContext(i);t.inited||(t.inited=!0,s.width=r*a,s.height=o*a,t.use2dCanvas=!0,t.canvas=s,d.scale(a,a)),t.ctx=c.adaptor?(0,c.adaptor)(d):(0,c.expand)(d),e(t.ctx)}))})));case 8:case"end":return e.stop()}}),e)})))()},canvasToTempFilePath:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this.use2dCanvas,a=this.canvasId,n=this.dpr,r=this.fileType,o=this.quality;return new Promise((function(s,d){var c=t.boundary||t,u=c.top,l=void 0===u?0:u,f=c.left,h=void 0===f?0:f,v=c.width,p=c.height,g=v*n,m=p*n,b=Object.assign({x:h,y:l,width:v,height:p,destWidth:g,destHeight:m,canvasId:a,fileType:r,quality:o,success:s,fail:d},e);i&&(delete b.canvasId,b.canvas=t.canvas),uni.canvasToTempFilePath(b,t)}))}}};e.default=u},"0bdf":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"use-rate dflex"},t._l(t.stars,(function(e,a){return i("v-uni-view",{key:a,staticClass:"pos-r margin-left-sm",style:{marginLeft:t.margin+"px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick(a)}}},[i("v-uni-view",{staticClass:"iconfont iconshoucang-01 ft-dark"}),i("v-uni-view",{staticClass:"pos-a active",style:{width:e.activeWitch}},[i("v-uni-view",{staticClass:"iconfont iconshoucang- ft-base"})],1)],1)})),1)},n=[]},1464:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.use-rate .active[data-v-3e76155c]{overflow:hidden;top:0}',""]),t.exports=e},"195b":function(t,e,i){"use strict";var a=i("8838"),n=i.n(a);n.a},"1b2b":function(t,e,i){"use strict";i.r(e);var a=i("3920"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},2258:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{class:"round"==t.type?"padding-lr-sm":""},[i("v-uni-view",{staticClass:"use-list-title dflex-b padding-lr w-full bg-main",class:"round"==t.type?"border-radius":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"dflex"},[t.iconfont&&" "!=t.iconfont?i("v-uni-view",{staticClass:"iconfont __left margin-right-sm",class:t.iconfont,style:{color:t.color}}):t._e(),i("v-uni-text",{style:{fontSize:t.size+"rpx",fontWeight:t.fwt}},[t._v(t._s(t.title))])],1),i("v-uni-view",{staticClass:"dflex"},[t.tip?i("v-uni-text",{staticClass:"tip margin-right-xs"},[t._v(t._s(t.tip))]):t._e(),i("v-uni-view",{staticClass:"iconfont fs-sm",class:t.rightIcon,style:{color:t.rightColor}})],1)],1)],1)},n=[]},"2ac7":function(t,e,i){"use strict";i.r(e);var a=i("01ab"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"2e9b":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={goods:{width:"750rpx",height:"1114rpx",background:"#ff6a6c",views:[{type:"view",css:{left:"40rpx",top:"144rpx",background:"#fff",radius:"30rpx",width:"670rpx",height:"900rpx",shadow:"0 20rpx 48rpx rgba(0,0,0,.05)"}},{type:"image",src:"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLj1JIHX0icWAu4Jw920k6ZIAqNd9ZfHLalqWsweMLphLrcwRJCYr0hcyeY6Y5Kyaqibl6icTAykDWRA/132",mode:"widthFix",css:{left:"50rpx",top:"40rpx",width:"84rpx",height:"84rpx",radius:"50%",color:"#999",shadow:"0px 0px 7px #f0f0f0"}},{type:"text",text:"Usecloud",css:{color:"#fff",left:"154rpx",top:"40rpx",fontSize:"32rpx",fontWeight:"bold"}},{type:"text",text:"为您挑选了一个好物",css:{color:"#fff",left:"154rpx",top:"90rpx",fontSize:"24rpx"}},{type:"image",src:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-7e00db99-ad65-4b9f-a74b-61bccb92b124/11bd19fa-6a70-49fd-9e71-72950828f6a8.jpg",mode:"widthFix",css:{left:"72rpx",top:"176rpx",width:"606rpx",height:"606rpx",radius:"12rpx"}},{type:"text",text:"￥",css:{color:"#ff6a6c",left:"70rpx",top:"840rpx",fontSize:"26rpx"}},{type:"text",text:"1339.90",css:{color:"#ff6a6c",left:"94rpx",top:"812rpx",fontSize:"56rpx",fontWeight:"bold"}},{type:"text",text:"小米10 Xiaomi/小米手机小米10手机骁龙865 1亿像素双模5G官方正品 骁龙865旗舰处理器 1亿像素8K电影相机",css:{maxLines:2,width:"450rpx",color:"#333",left:"76rpx",top:"908rpx",fontSize:"30rpx",lineHeight:"50rpx"}},{type:"image",src:"",mode:"widthFix",css:{left:"545rpx",top:"875rpx",width:"135rpx",height:"135rpx",background:"#fff"}},{type:"view",css:{top:"1040rpx",height:"100rpx",background:"#ff6a6c"}},{type:"view",css:{left:"190rpx",top:"1078rpx",border:"1px solid #fff",width:"70rpx"}},{type:"text",text:"用云 · 让开发更简单",css:{color:"#fff",left:"276rpx",top:"1060rpx",fontSize:"24rpx"}},{type:"view",css:{left:"496rpx",top:"1078rpx",border:"1px solid #fff",width:"64rpx"}}]},getGoodsData:function(t,e,i){return this.goods.views[1].src=t.member_headimg,this.goods.views[2].text=t.member_nickname,this.goods.views[4].src=e.img,this.goods.views[6].text=""+e.price/100,this.goods.views[7].text=e.name+" "+e.name_pw,this.goods.views[8].src=i,this.goods},member:{},fxs:{}};e.default=a},"306a":function(t,e,i){var a=i("1464");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("63132ed9",a,!0,{sourceMap:!1,shadowMode:!1})},3920:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3");var a={props:{top:{type:Number,default:100},right:{type:String,default:"30"},bottom:{type:String,default:"30"},duration:{type:Number,default:120},scrollTop:{type:Number,default:0}},watch:{scrollTop:function(t,e){this.s_top=t,this.change()}},data:function(){return{s_top:0,visible:!1}},methods:{totop:function(){uni.pageScrollTo({scrollTop:0,duration:this.duration}),this.$emit("to",{type:"to",scrollTop:this.s_top})},change:function(t){this.s_top=t,this.s_top>this.top?this.visible||(this.visible=!0):this.visible&&(this.visible=!1)}}};e.default=a},3962:function(t,e,i){"use strict";i.r(e);var a=i("d114"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"3a20":function(t,e,i){"use strict";var a=i("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.Draw=void 0,i("cb29"),i("13d5"),i("d3b7"),i("4de4"),i("ac1f"),i("00b4"),i("e9c4"),i("c975"),i("b64b"),i("5319"),i("caad"),i("2532"),i("07ac"),i("d81d"),i("7a82");var n=a(i("54f8")),r=a(i("f07e")),o=a(i("c964")),s=a(i("fc11")),d=a(i("d0af")),c=a(i("276c")),u=a(i("e954")),l=i("fb70"),f=i("c1b9"),h=a(i("4d73")),v=function(){function t(e,i){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0;(0,c.default)(this,t),this.ctx=e,this.canvas=i||null,this.use2dCanvas=a,this.isH5PathToBase64=n,this.sleep=r,this.count=0,this.progress=0}return(0,u.default)(t,[{key:"roundRect",value:function(t,e,i,a,n){var r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!(n<0)){var s=this.ctx;if(s.beginPath(),n){var d=n||{},c=d.borderTopLeftRadius,u=void 0===c?n||0:c,l=d.borderTopRightRadius,f=void 0===l?n||0:l,h=d.borderBottomRightRadius,v=void 0===h?n||0:h,p=d.borderBottomLeftRadius,g=void 0===p?n||0:p;s.arc(t+i-v,e+a-v,v,0,.5*Math.PI),s.lineTo(t+g,e+a),s.arc(t+g,e+a-g,g,.5*Math.PI,Math.PI),s.lineTo(t,e+u),s.arc(t+u,e+u,u,Math.PI,1.5*Math.PI),s.lineTo(t+i-f,e),s.arc(t+i-f,e+f,f,1.5*Math.PI,2*Math.PI),s.lineTo(t+i,e+a-v)}else s.rect(t,e,i,a);s.closePath(),o&&s.stroke(),r&&s.fill()}}},{key:"setTransform",value:function(t,e){var i=e.transform,a=e.transformOrigin,n=void 0===a?"center center":a,r=this.ctx,o=i||{},s=o.scaleX,d=void 0===s?1:s,c=o.scaleY,u=void 0===c?1:c,f=o.translateX,h=void 0===f?0:f,v=o.translateY,p=void 0===v?0:v,g=o.rotate,m=void 0===g?0:g,b=o.skewX,x=void 0===b?0:b,w=o.skewY,y=void 0===w?0:w,k=t.left,_=t.top,C=t.width,S=t.height;h=(0,l.toPx)(h,C)||0,p=(0,l.toPx)(p,S)||0;var P={top:(0,l.toPx)("0%",1),center:(0,l.toPx)("50%",1,!0),bottom:(0,l.toPx)("100%",1)},T={left:(0,l.toPx)("0%",1),center:(0,l.toPx)("50%",1,!0),right:(0,l.toPx)("100%",1)};n=n.split(" ").filter((function(t,e){return e<2})).reduce((function(t,e){if(/\d+/.test(e)){var i=(0,l.toPx)(e,1,!0)/(/px|rpx$/.test(e)?(0,l.isNumber)(t.x)?S:C:1);return(0,l.isNumber)(t.x)?Object.assign(t,{y:i}):Object.assign(t,{x:i})}return(0,l.isNumber)(T[e])&&!(0,l.isNumber)(t.x)?Object.assign(t,{x:T[e]}):Object.assign(t,{y:P[e]||.5})}),{}),r.scale(d,u);var M={x:C*(d>0?1:-1)*n.x+(k+h)/d,y:S*(u>0?1:-1)*n.y+(_+p)/u};return r.translate(M.x,M.y),m&&r.rotate(m*Math.PI/180),(x||y)&&r.transform(1,Math.tan(y*Math.PI/180),Math.tan(x*Math.PI/180),1,0,0),{x:-C*n.x,y:-S*n.y,w:C,h:S}}},{key:"setBackground",value:function(t,e,i){var a=this.ctx;t?f.GD.isGradient(t)?f.GD.doGradient(t,e,i,a):a.setFillStyle(t):a.setFillStyle("transparent")}},{key:"setShadow",value:function(t){var e=t.boxShadow,i=void 0===e?[]:e,a=this.ctx;if(i.length){var n=(0,d.default)(i,4),r=n[0],o=n[1],s=n[2],c=n[3];a.setShadow(r,o,s,c)}}},{key:"setBorder",value:function(t,e){var i,a=this.ctx,n=t.width,r=t.height,o=e.border,d=e.borderBottom,c=e.borderTop,u=e.borderRight,l=e.borderLeft,f=e.borderRadius,h=o||{},v=h.borderWidth,p=void 0===v?0:v,g=h.borderStyle,m=h.borderColor,b=d||{},x=b.borderBottomWidth,w=void 0===x?p:x,y=b.borderBottomStyle,k=void 0===y?g:y,_=b.borderBottomColor,C=void 0===_?m:_,S=c||{},P=S.borderTopWidth,T=void 0===P?p:P,M=S.borderTopStyle,I=void 0===M?g:M,R=S.borderTopColor,O=void 0===R?m:R,$=u||{},B=($.borderRightWidth,$.borderRightStyle,$.borderRightColor,l||{}),D=B.borderLeftWidth,L=void 0===D?p:D,N=B.borderLeftStyle,j=void 0===N?g:N,F=B.borderLeftColor,W=void 0===F?m:F,z=f||(i={r:f},(0,s.default)(i,"r",f),(0,s.default)(i,"r",f),(0,s.default)(i,"r",f),i),E=z.borderTopLeftRadius,H=void 0===E?f||0:E,A=z.borderTopRightRadius,U=void 0===A?f||0:A,q=z.borderBottomRightRadius,G=void 0===q?f||0:q,J=z.borderBottomLeftRadius,Q=void 0===J?f||0:J;if(d||l||c||u||o){var X=function(t,e,i){"dashed"==e?a.setLineDash([Math.ceil(6*t),Math.ceil(6*t)]):"dotted"==e&&a.setLineDash([t,t]),a.setStrokeStyle(i)},Y=function(t,e,i,n,r,o,s,d,c,u,l,f,h,v){a.save(),a.setLineWidth(f),X(f,h,v),a.beginPath(),a.arc(t,e,s,Math.PI*c,Math.PI*u),a.lineTo(i,n),a.arc(r,o,d,Math.PI*u,Math.PI*l),a.stroke(),a.restore()};a.save(),this.setOpacity(e);var K=this.setTransform(t,e),V=K.x,Z=K.y;o&&(a.setLineWidth(p),X(p,g,m),this.roundRect(V,Z,n,r,f,!1,!!m),a.restore()),d&&Y(V+n-G,Z+r-G,V+Q,Z+r,V+Q,Z+r-Q,G,Q,.25,.5,.75,w,k,C),l&&Y(V+Q,Z+r-Q,V,Z+H,V+H,Z+H,Q,H,.75,1,1.25,L,j,W),c&&Y(V+H,Z+H,V+n-U,Z,V+n-U,Z+U,H,U,1.25,1.5,1.75,T,I,O),u&&Y(V+n-U,Z+U,V+n,Z+r-G,V+n-G,Z+r-G,U,G,1.75,2,.25,T,I,O)}}},{key:"setOpacity",value:function(t){var e=t.opacity,i=void 0===e?1:e;this.ctx.setGlobalAlpha(i)}},{key:"drawView",value:function(t,e){var i=this.ctx,a=t.width,n=t.height,r=e||{},o=r.borderRadius,s=void 0===o?0:o,d=r.backgroundColor;i.save(),this.setOpacity(e);var c=this.setTransform(t,e),u=c.x,l=c.y;this.setShadow(e),this.setBackground(d,a,n),this.roundRect(u,l,a,n,s,!0,!1),i.restore(),this.setBorder(t,e)}},{key:"drawImage",value:function(){var t=(0,o.default)((0,r.default)().mark((function t(e){var i,a,n,s=this,d=arguments;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=d.length>1&&void 0!==d[1]?d[1]:{},a=d.length>2&&void 0!==d[2]?d[2]:{},n=!(d.length>3&&void 0!==d[3])||d[3],t.next=5,new Promise(function(){var t=(0,o.default)((0,r.default)().mark((function t(d,c){var u,f,h,v,p,g,m,b,x,w,y,k,_,C,S,P,T,M,I,R,O,$,B,D,L,N,j,F,W,z,E,H,A,U,q;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(u=s.ctx,f=s.sleep,h=s.canvas,v=a.borderRadius,p=void 0===v?0:v,g=a.mode,m=a.padding,b=void 0===m?{}:m,x=a.backgroundColor,w=b.paddingTop,y=void 0===w?0:w,k=b.paddingLeft,_=void 0===k?0:k,C=b.paddingRight,S=void 0===C?0:C,P=b.paddingBottom,T=void 0===P?0:P,M=i.left,I=i.top,R=i.width,O=i.height,u.save(),n||(s.setOpacity(a),$=s.setTransform(i,a),B=$.x,D=$.y,x&&s.setBackground(x,R,O),M=B,I=D,s.setShadow(a),s.roundRect(M,I,R,O,p,!!p,!1)),u.clip(),L=function(t){M+=_,I+=y,R=R-_-S,O=O-y-T;var e=t.width,i=t.height,a=t.src,n=0,r=0,o=R/O,s=e/i;switch(e||(g="scaleToFill"),g){case"aspectFit":o>=s?(e=O*s,i=O,n=M+Math.round(R-e)/2,r=I):(e=R,i=R/s,n=M,r=I+Math.round(O-i)/2),u.drawImage(a,n,r,e,i);break;case"aspectFill":o>=s?i=e/o:(e=i*o,n=Math.round(((t.width||R)-e)/2)),u.drawImage(a,n,r,e,i,M,I,R,O);break;default:u.drawImage(a,M,I,R,O)}},N=function(){u.restore(),s.setBorder(i,a),setTimeout(d,f)},j=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(s.use2dCanvas){var i=h.createImage();i.onload=function(){t.src=i,L(t),N()},i.onerror=(0,o.default)((0,r.default)().mark((function i(){return(0,r.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:e&&console.error("createImage fail: ".concat(JSON.stringify(t))),d(!0);case 2:case"end":return i.stop()}}),i)}))),i.src=t.src}else L(t),N()},"string"!==typeof e){t.next=21;break}return t.next=14,(0,l.getImageInfo)(e,s.isH5PathToBase64);case 14:F=t.sent,W=F.path,z=F.width,E=F.height,j({src:W,width:z,height:E}),t.next=34;break;case 21:t.prev=21,j(e),t.next=34;break;case 25:return t.prev=25,t.t0=t["catch"](21),t.next=29,(0,l.getImageInfo)(e.originSrc,s.isH5PathToBase64,!0);case 29:H=t.sent,A=H.path,U=H.width,q=H.height,j({src:A,width:U,height:q},!0);case 34:case"end":return t.stop()}}),t,null,[[21,25]])})));return function(e,i){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"drawText",value:function(t,e,i,a){var n=this.ctx,r=e.width,o=e.height,s=e.offsetLeft,d=void 0===s?0:s,c=e.offsetTop,u=void 0===c?0:c,f=i.color,h=void 0===f?"#000000":f,v=i.lineHeight,p=void 0===v?"1.4em":v,g=i.fontSize,m=void 0===g?14:g,b=i.fontWeight,x=i.fontFamily,w=i.textStyle,y=i.textAlign,k=void 0===y?"left":y,_=(i.verticalAlign,i.backgroundColor),C=i.maxLines,S=(i.display,i.padding,i.borderRadius),P=void 0===S?0:S,T=i.textDecoration;if(p=(0,l.toPx)(p,m),t){n.save(),this.setOpacity(i);var M=this.setTransform(e,i),I=M.x,R=M.y;n.setTextBaseline("middle"),n.setFonts({fontFamily:x,fontSize:m,fontWeight:b,textStyle:w}),n.setTextAlign(k),n.translate(0,-m/2),R+=m,_&&(this.setBackground(_,r,o),this.roundRect(I,R-m/2,r,o,P,1,0)),R+=u,this.setShadow(i),n.setFillStyle(h);var O={};if(a&&a.word.length>0)for(var $=0;$<a.word.length;$++){var B=0,D=void 0;while((D=t.indexOf(a.word[$],B))>-1){O[D]={reset:!0};for(var L=0;L<a.word[$].length;L++)O[D+L]={reset:!0};B=D+1}}switch(k){case"left":break;case"center":I+=.5*r;break;case"right":I+=r;break;default:break}var N=n.measureText(t).width,j=Math.ceil(N/r)*p,F=Math.ceil((o-j)/2);F<0&&(F=0);var W=function(t,e,i){var a=t;switch(k){case"left":t=t,a+=i;break;case"center":t-=i/2,a=t+i;break;case"right":a=t,t-=i;break;default:break}T&&(n.setLineWidth(m/13),n.beginPath(),/\bunderline\b/.test(T)&&(n.moveTo(t,e-.5*m),n.lineTo(a,e-.5*m)),/\boverline\b/.test(T)&&(n.moveTo(t,e-1.5*m),n.lineTo(a,e-1.5*m)),/\bline-through\b/.test(T)&&(n.moveTo(t,e-m),n.lineTo(a,e-m)),n.closePath(),n.setStrokeStyle(h),n.stroke())},z=function(t,e,i){for(var r=Object.keys(O),o=0;o<r.length;o++){var s=O[r[o]];n.save(),n.setFillStyle(a.color),s.char&&n.fillText(s.char,s.x,s.y),n.restore()}},E=function(t,e){if(t){var i=Math.round(n.measureText(" ").width),a=Math.round(n.measureText("　").width),r=Math.round(n.measureText(e).width),o="",s=1;return r==a?(o="　",s=1):(o=" ",s=Math.ceil(r/i)),{char:new Array(s).fill(o).join(""),width:r}}return{char:e}},H=function(t,e,i,a){O[e].x=i,O[e].y=a,O[e].char=t},A=function(t,e,i,a,r){var o=r.startIndex,s=void 0===o?0:o,d=(r.endIndex,i);/·/.test(i)&&(d=d.replace(/·/g,"."),a=n.measureText(d).width);for(var c=i.split(""),u=t,l=0;l<e.length;l++){var f=e[l],h=f-s,v=c[h];if(v){var p=E(O[f],v),g=p.char,m=p.width;c[h]=g,"center"==k&&(u=t-.5*(a-m)),"right"==k&&(u=t-a+m),H(v,f,u+n.measureText(d.substring(0,h)).width,R+U)}}return c},U=Math.ceil((p-m)/2)+1;if(N+d<=r&&!t.includes("\n")){I+=d;var q=Object.keys(O),G="";return q&&(G=A(I,q,t,N,{}),z()),n.fillText(G.join(""),I,R+U),R+=p,W(I,R,N),n.restore(),void this.setBorder(e,i)}for(var J=t.split(""),Q=R,X=I,Y="",K=0,V=0,Z=0;Z<=J.length;Z++){var tt=J[Z]||"",et="\n"===tt,it=""==tt;tt=et?"":tt;var at=Y+tt,nt=n.measureText(at).width;if(K>=C)break;if(0==K?(nt+=d,X=I+d):(nt=nt,X=I),nt>r||et||it){var rt=Z;if(K++,Y=it&&nt<=r?at:Y,K===C&&nt>r){while(n.measureText("".concat(Y,"...")).width>r){if(Y.length<=1)break;Y=Y.substring(0,Y.length-1)}Y+="..."}var ot=Object.keys(O),st="";if(ot&&(st=A(I,ot,Y,nt,{startIndex:V,endIndex:rt}),z()),n.fillText(st.join(""),X,R+U),R+=p,W(X,R,nt),Y=tt,V=rt+(et?1:0),R+p>Q+o)break}else Y=at}n.restore(),this.setBorder(e,i)}}},{key:"drawNode",value:function(){var t=(0,o.default)((0,r.default)().mark((function t(e){var i,a,o,s,d,c,u,l,f,v,p,g,m,b;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.layoutBox,a=e.computedStyle,o=e.attributes,s=e.name,d=e.rules,c=e.children,u=e.parent,u.hasOwnProperty("id")||(this.count=Math.max(e.count||1,this.count)),l=e.attributes,f=l.src,v=l.text,"view"!==s){t.next=7;break}this.drawView(i,a),t.next=13;break;case 7:if("image"!==s||!f){t.next=12;break}return t.next=10,this.drawImage(o,i,a,!1);case 10:t.next=13;break;case 12:"text"===s?this.drawText(v,i,a,d):"qrcode"===s&&null!==h.default&&void 0!==h.default&&h.default.api&&h.default.api.draw(v,this,i,a);case 13:if(this.progress=(this.progress||0)+1,c){t.next=16;break}return t.abrupt("return");case 16:p=Object.values?Object.values(c):Object.keys(c).map((function(t){return c[t]})),g=(0,n.default)(p),t.prev=18,g.s();case 20:if((m=g.n()).done){t.next=26;break}return b=m.value,t.next=24,this.drawNode(b);case 24:t.next=20;break;case 26:t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](18),g.e(t.t0);case 31:return t.prev=31,g.f(),t.finish(31);case 34:case"end":return t.stop()}}),t,this,[[18,28,31,34]])})));return function(e){return t.apply(this,arguments)}}()},{key:"listen",value:function(t,e){var i=this;"progressChange"==t&&Object.defineProperty(this,"progress",{configurable:!0,set:function(t){i._progress=t,e(t/i.count)},get:function(){return i._progress}})}}]),t}();e.Draw=v},"4d73":function(t,e){},"53ad":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return Object.assign(t,a(t),{setStrokeStyle:function(e){t.strokeStyle=e},setLineWidth:function(e){t.lineWidth=e},setLineCap:function(e){t.lineCap=e},setFillStyle:function(e){t.fillStyle=e},setFontSize:function(e){t.font=String(e)},setGlobalAlpha:function(e){t.globalAlpha=e},setLineJoin:function(e){t.lineJoin=e},setTextAlign:function(e){t.textAlign=e},setMiterLimit:function(e){t.miterLimit=e},setShadow:function(e,i,a,n){t.shadowOffsetX=e,t.shadowOffsetY=i,t.shadowBlur=a,t.shadowColor=n},setTextBaseline:function(e){t.textBaseline=e},createCircularGradient:function(){},draw:function(){}})},e.expand=function(t){return Object.assign(t,a(t))},i("99af");var a=function(t){return{setFonts:function(e){var i=e.fontFamily,a=void 0===i?"sans-serif":i,n=e.fontSize,r=void 0===n?14:n,o=e.fontWeight,s=void 0===o?"normal":o,d=e.textStyle,c=void 0===d?"normal":d;t.font="".concat(c," ").concat(s," ").concat(r,"px ").concat(a)}}}},"68fc":function(t,e,i){var a=i("7137");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("3fe90e3a",a,!0,{sourceMap:!1,shadowMode:!1})},"6b1a":function(t,e,i){var a=i("d943");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("2f30030d",a,!0,{sourceMap:!1,shadowMode:!1})},7137:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.use-list-title[data-v-252f08b0]{height:%?100?%;line-height:%?100?%}.use-list-title .__left[data-v-252f08b0]{font-size:%?40?%}.use-list-title .iconfont[data-v-252f08b0]{color:silver}.use-list-title .tip[data-v-252f08b0]{font-size:%?24?%;color:silver}',""]),t.exports=e},"77a79":function(t,e,i){"use strict";i.r(e);var a=i("2258"),n=i("c779");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("bc97");var o=i("f0c5"),s=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"252f08b0",null,!1,a["a"],void 0);e["default"]=s.exports},"783b":function(t,e,i){"use strict";var a=i("6b1a"),n=i.n(a);n.a},8838:function(t,e,i){var a=i("cb5a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("59d5bdb1",a,!0,{sourceMap:!1,shadowMode:!1})},"8c56":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={usePopup:i("1d50").default,useQrcode:i("c084").default,useListTitle:i("77a79").default,useRate:i("f45d").default,useTotop:i("b7c4").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"swiper-area w-full pos-f"},[i("v-uni-swiper",{staticClass:"h-full pos-r",attrs:{autoplay:!0,"indicator-dots":!0,circular:"true",duration:"400"}},t._l(t.swiperDatas,(function(t,e){return i("v-uni-swiper-item",{key:e},[i("v-uni-view",{staticClass:"wh-full"},[i("v-uni-image",{staticClass:"wh-full loaded",attrs:{src:t.url,"lazy-load":"true",mode:"aspectFill"}})],1)],1)})),1)],1),i("v-uni-view",{staticClass:"goods-area bg-main padding"},[i("v-uni-view",{staticClass:"price-box dflex-b"},[i("v-uni-view",[i("v-uni-text",{staticClass:"price fwb fs-big"},[t._v(t._s(t.goods.price/100||""))]),t.goods.market_price>0?i("v-uni-text",{staticClass:"m-price"},[t._v(t._s(t.goods.market_price/100||""))]):t._e()],1),i("v-uni-view",{staticClass:"dflex fs-sm ft-dark"},[i("v-uni-view",{staticClass:"margin-right-sm dflex",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shareOpen.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"iconfont iconfenxiang padding-right-xs"}),i("v-uni-text",[t._v("分享")])],1),i("v-uni-view",{staticClass:"margin-right-sm dflex"},[i("v-uni-view",{staticClass:"padding-right-xs padding-right-xs"},[t._v("已售")]),i("v-uni-text",[t._v(t._s(t.goods.sale_cnt||"0"))])],1),i("v-uni-view",{staticClass:"dflex"},[i("v-uni-view",{staticClass:"padding-right-xs padding-right-xs"},[t._v("库存")]),i("v-uni-text",[t._v(t._s(t.goods.stock_num||"0"))])],1)],1)],1),i("v-uni-text",{staticClass:"title fs"},[t._v(t._s(t.goods.name||"")+" "+t._s(t.goods.name_pw||""))])],1),i("v-uni-view",{staticClass:"gap"}),i("use-popup",{attrs:{mode:"bottom",bgclass:" "},model:{value:t.shareShow,callback:function(e){t.shareShow=e},expression:"shareShow"}},[i("v-uni-view",{staticClass:"share-area margin border-radius bg-main"},[i("v-uni-view",{staticClass:"tac w-full padding-sm"},[t._v("分享")]),i("v-uni-view",{staticClass:"padding-lr margin-bottom-xl dflex-b pos-r"},[i("v-uni-button",{staticClass:"dflex-c dflex-flow-c no-border btn ft-base",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.createPoster.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"iconfont iconhaibao1 padding-lr-sm border-radius-c fs-xxxl"}),i("v-uni-view",{staticClass:"dflex-c fs-sm ft-dark"},[t._v("生成海报")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"qrcode tac padding-tb pos-f pos-tl-c"},[i("use-qrcode",{attrs:{onval:!0,val:t.posterQRcode,show:!1,"loading-text":"生成海报中",qrsize:"200"},on:{result:function(e){arguments[0]=e=t.$handleEvent(e),t.posterQRcodeResult.apply(void 0,arguments)}}})],1),t.posterShow&&!t.posterUrl?i("v-uni-view",{staticClass:"poster pos-f pos-tl-c padding"},[i("l-painter",{attrs:{"custom-style":"position: fixed;z-index: -1;top: -200vh;left: -100vw;",board:t.posterData,isRenderImage:!0},on:{success:function(e){arguments[0]=e=t.$handleEvent(e),t.posterSuccess.apply(void 0,arguments)}}})],1):t._e(),i("use-popup",{attrs:{mode:"bottom",bgclass:" "},on:{close:function(e){arguments[0]=e=t.$handleEvent(e)}},model:{value:t.posterShow,callback:function(e){t.posterShow=e},expression:"posterShow"}},[i("v-uni-view",{staticClass:"padding border-radius margin"},[t.posterUrl?t._e():i("v-uni-view",{staticClass:"tac bg-main padding border-radius pos-a pos-l-c",staticStyle:{bottom:"45vh"}},[t._v("海报生成中，请稍等")]),i("v-uni-view",{staticClass:"w-full",staticStyle:{height:"70vh"}},[i("v-uni-image",{staticClass:"wh-full",attrs:{src:t.posterUrl,mode:"aspectFit"}})],1),i("v-uni-view",{staticClass:"padding w-full margin-top"},[i("v-uni-view",{staticClass:"dflex-b border-radius-big"},[i("v-uni-view",{staticClass:"tac padding-tb-sm flex1 bg-base"},[t._v("长按图片保存到相册")])],1)],1)],1)],1),t.skuDatas.length>0?i("v-uni-view",{staticClass:"sku-area bg-main padding-lr padding-top padding-bottom-xs pos-r"},[i("v-uni-view",{staticClass:"con dflex dflex-wrap-w"},t._l(t.skuDatas,(function(e,a){return i("v-uni-view",{key:a,staticClass:"margin-right-sm margin-bottom-sm dflex bg-drak border-radius-lg padding-tb-16 padding-lr",class:{active:e.selected},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.selectSKU(e)}}},[i("v-uni-text",{staticClass:"fs-xs"},[t._v(t._s(e.name))])],1)})),1)],1):t._e(),t.skuDatas.length>0?i("v-uni-view",{staticClass:"gap"}):t._e(),i("use-list-title",{attrs:{title:"优惠",tip:"领取优惠券",color:"#ff6a6c",iconfont:"iconyouhui"},on:{goto:function(e){arguments[0]=e=t.$handleEvent(e),t.couponShow=!0}}}),i("use-popup",{attrs:{mode:"bottom"},on:{open:function(e){arguments[0]=e=t.$handleEvent(e),t.couponOpen.apply(void 0,arguments)}},model:{value:t.couponShow,callback:function(e){t.couponShow=e},expression:"couponShow"}},[t.couponDatas&&t.couponDatas.length?i("v-uni-scroll-view",[i("v-uni-view",{staticClass:"coupon-area padding bg-drak"},t._l(t.couponDatas,(function(e,a){return i("v-uni-view",{key:a,staticClass:"coupon-item bg-main pos-r fs-xs"},[i("v-uni-view",{staticClass:"content pos-r padding dflex-b"},[i("v-uni-view",{},[i("v-uni-view",{staticClass:"margin-bottom-xs fs"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"ft-dark"},[t._v("有效期至 "+t._s(e.end_time.split(" ")[0]))])],1),i("v-uni-view",{staticClass:"tar"},[i("v-uni-view",{staticClass:"margin-bottom-xs price"},[t._v(t._s(e.price))]),e.order_amount>0?i("v-uni-view",{staticClass:"ft-dark"},[t._v("满"+t._s(e.order_amount)+"可用")]):i("v-uni-view",{staticClass:"ft-dark"},[t._v("不限")])],1),i("v-uni-view",{staticClass:"circle l"}),i("v-uni-view",{staticClass:"circle r"})],1),i("v-uni-view",{staticClass:"dflex-b"},[i("v-uni-text",{staticClass:"ft-dark padding-lr"},[t._v(t._s(e.type))]),i("v-uni-text",{staticClass:"ft-base padding-tb-sm padding-lr",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.couponReceive(e.id)}}},[t._v("立即领取")])],1)],1)})),1)],1):t._e(),i("v-uni-view",{staticClass:"coupon-area dflex-c"},[t._v("此功能未实现")])],1),i("v-uni-view",{staticClass:"bg-main padding-lr padding-top padding-bottom-xs pos-r",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tagShow=!0}}},[i("v-uni-view",{staticClass:"dflex dflex-wrap-w"},t._l(t.tagDatas,(function(e,a){return i("v-uni-view",{key:a,staticClass:"margin-right-sm margin-bottom-sm dflex"},[i("v-uni-view",{staticClass:"iconfont iconyiwancheng- fwb fs-xs ft-base margin-right-xs"}),i("v-uni-text",{staticClass:"fs-xs"},[t._v(t._s(e.name))])],1)})),1),i("v-uni-view",{staticClass:"icon-detail pos-a"},[i("v-uni-view",{staticClass:"iconfont iconxiangqing ft-dark fs-sm"})],1)],1),i("v-uni-view",{staticClass:"gap"}),i("use-popup",{attrs:{mode:"bottom"},model:{value:t.tagShow,callback:function(e){t.tagShow=e},expression:"tagShow"}},[i("v-uni-view",{staticClass:"tac w-full padding-sm"},[t._v("服务说明")]),i("v-uni-view",{staticClass:"padding-lr padding-bottom-sm"},t._l(t.tagDatas,(function(e,a){return i("v-uni-view",{key:a,staticClass:"margin-right-sm margin-bottom-sm dflex dflex-s"},[i("v-uni-view",{staticClass:"iconfont iconyiwancheng- fwb fs ft-base margin-right-xs"}),i("v-uni-view",[i("v-uni-view",{staticClass:"fs-sm"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"fs-xs"},[t._v("服务标签对应的描述")])],1)],1)})),1)],1),t.evaluateDatas.length>0?i("v-uni-view",{staticClass:"evaluate-area"},[i("use-list-title",{attrs:{title:t.evaluateTitle,tip:"好评率 100%",color:"#ff6a6c",iconfont:" "},on:{goto:function(e){arguments[0]=e=t.$handleEvent(e),t.toevaluate.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"padding-lr bg-main"},t._l(t.evaluateDatas,(function(e,a){return i("v-uni-view",{key:a,staticClass:"eva-box dflex-s padding-bottom-lg"},[i("v-uni-image",{staticClass:"portrait border-radius-c",attrs:{src:e.member_headimg}}),i("v-uni-view",{staticClass:"right-area flex1 padding-left-sm"},[i("v-uni-view",{staticClass:"dflex-b ft-dark"},[i("v-uni-view",{staticClass:"dflex"},[i("v-uni-text",{staticClass:"name margin-right"},[t._v(t._s(e.member_name))]),i("use-rate",{attrs:{value:e.review_cnt,disabled:!0}})],1),i("v-uni-text",{staticClass:"time fs-xs"},[t._v(t._s(t.$api.format(e.create_time,"yyyy-MM-dd")))])],1),i("v-uni-view",{staticClass:"fs-sm ft-main padding-top-xs padding-bottom-sm"},[t._v(t._s(e.review_content))]),i("v-uni-view",{staticClass:"dflex dflex-wrap-w"},t._l(e.review_imgs,(function(a,n){return i("v-uni-image",{key:n,attrs:{mode:"widthFix","lazy-load":!0,src:a},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.preview(e.review_imgs,a)}}})})),1),i("v-uni-view",{},[i("v-uni-text",{staticClass:"fs-xs ft-dark"},[t._v(t._s(e.goods_type||"套餐1"))])],1)],1)],1)})),1),i("v-uni-view",{staticClass:"gap"})],1):t._e(),i("v-uni-view",{staticClass:"detail-area bg-main"},[i("v-uni-view",{staticClass:"d-header padding dflex-c"},[i("v-uni-text",[t._v("图文详情")])],1),i("v-uni-rich-text",{staticClass:"pro-detail",attrs:{nodes:t.html_nodes}})],1),i("v-uni-view",{staticClass:"oper-area pos-f dflex-b w-full padding-lr-sm"},[i("v-uni-view",{staticClass:"btn-area dflex dflex-flow-c",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tohome.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"iconfont iconshouye-1"}),i("v-uni-text",[t._v("首页")])],1),i("v-uni-view",{staticClass:"btn-area dflex dflex-flow-c",class:{active:t.favorite},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tofavorite.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"iconfont",class:t.favorite?"iconshoucang-":"iconshoucang-01"}),i("v-uni-text",[t._v("收藏")])],1),i("v-uni-view",{staticClass:"flex1 btn-container dflex-b border-radius-big"},[t.goods.stock_num>0?i("v-uni-view",{staticClass:"tac padding-tb-sm flex1 bg-warn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tocart(t.goods)}}},[t._v("加入购物车")]):t._e(),t.goods.stock_num>0?i("v-uni-view",{staticClass:"tac padding-tb-sm flex1 bg-base",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tobuy(t.goods)}}},[t._v("立即购买")]):i("v-uni-view",{staticClass:"tac padding-tb-sm flex1 bg-disabled"},[t._v("已售磐")])],1)],1),i("use-totop",{ref:"usetop",attrs:{bottom:"120"}})],1)},r=[]},a69f:function(t,e,i){"use strict";i.r(e);var a=i("8c56"),n=i("3962");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("783b");var o=i("f0c5"),s=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"5d352ed5",null,!1,a["a"],void 0);e["default"]=s.exports},af52:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3"),i("14d9");var a={props:{value:{type:[Number,String],default:0},margin:{type:[Number,String],default:0},max:{type:[Number,String],default:5},disabled:{type:[Boolean,String],default:!1}},data:function(){return{maxSync:this.max,valueSync:this.value}},computed:{stars:function(){for(var t=Number(this.maxSync)?Number(this.maxSync):5,e=Number(this.valueSync)?Number(this.valueSync):0,i=[],a=Math.floor(e),n=Math.ceil(e),r=0;r<t;r++)a>r?i.push({activeWitch:"100%"}):n-1===r?i.push({activeWitch:100*(e-a)+"%"}):i.push({activeWitch:"0"});return i}},methods:{onClick:function(t){this.disabled||"true"===this.disabled||(this.valueSync=t+1,this.$emit("change",{value:this.valueSync}))}}};e.default=a},b7c4:function(t,e,i){"use strict";i.r(e);var a=i("ef87"),n=i("1b2b");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("195b");var o=i("f0c5"),s=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"74bbadd3",null,!1,a["a"],void 0);e["default"]=s.exports},ba5c:function(t,e,i){"use strict";i.r(e);var a=i("af52"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},bc97:function(t,e,i){"use strict";var a=i("68fc"),n=i.n(a);n.a},c1b9:function(t,e,i){"use strict";i("7a82");var a=i("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.GD=void 0;var n=a(i("54f8"));i("2ca0"),i("14d9"),i("498a"),i("baa5"),i("ac1f"),i("466d"),i("acd8"),i("c975");var r={isGradient:function(t){return!(!t||!t.startsWith("linear")&&!t.startsWith("radial"))},doGradient:function(t,e,i,a){t.startsWith("linear")?function(t,e,i,a){for(var n=function(t,e,i){var a,n=t.match(/([-]?\d{1,3})deg/),r=n&&n[1]?parseFloat(n[1]):0;switch(r){case 0:a=[0,-i/2,0,i/2];break;case 90:a=[e/2,0,-e/2,0];break;case-90:a=[-e/2,0,e/2,0];break;case 180:a=[0,i/2,0,-i/2];break;case-180:a=[0,-i/2,0,i/2];break;default:var o=0,s=0,d=0,c=0;n[1]>0&&n[1]<90?(o=e/2-(e/2*Math.tan((90-n[1])*Math.PI*2/360)-i/2)*Math.sin(2*(90-n[1])*Math.PI*2/360)/2,c=Math.tan((90-n[1])*Math.PI*2/360)*o,d=-o,s=-c):n[1]>-180&&n[1]<-90?(o=-e/2+(e/2*Math.tan((90-n[1])*Math.PI*2/360)-i/2)*Math.sin(2*(90-n[1])*Math.PI*2/360)/2,c=Math.tan((90-n[1])*Math.PI*2/360)*o,d=-o,s=-c):n[1]>90&&n[1]<180?(o=e/2+(-e/2*Math.tan((90-n[1])*Math.PI*2/360)-i/2)*Math.sin(2*(90-n[1])*Math.PI*2/360)/2,c=Math.tan((90-n[1])*Math.PI*2/360)*o,d=-o,s=-c):(o=-e/2-(-e/2*Math.tan((90-n[1])*Math.PI*2/360)-i/2)*Math.sin(2*(90-n[1])*Math.PI*2/360)/2,c=Math.tan((90-n[1])*Math.PI*2/360)*o,d=-o,s=-c),a=[o,s,d,c];break}return a}(i,t,e),r=a.createLinearGradient(n[0],n[1],n[2],n[3]),s=i.match(/linear-gradient\((.+)\)/)[1],d=o(s.substring(s.indexOf(",")+1)),c=0;c<d.colors.length;c++)r.addColorStop(d.percents[c],d.colors[c]);a.setFillStyle(r)}(e,i,t,a):t.startsWith("radial")&&function(t,e,i,a){for(var n=o(i.match(/radial-gradient\((.+)\)/)[1]),r=a.createCircularGradient(0,0,t<e?e/2:t/2),s=0;s<n.colors.length;s++)r.addColorStop(n.percents[s],n.colors[s]);a.setFillStyle(r)}(e,i,t,a)}};function o(t){var e,i=t.substring(0,t.length-1).split("%,"),a=[],r=[],o=(0,n.default)(i);try{for(o.s();!(e=o.n()).done;){var s=e.value;a.push(s.substring(0,s.lastIndexOf(" ")).trim()),r.push(s.substring(s.lastIndexOf(" "),s.length)/100)}}catch(d){o.e(d)}finally{o.f()}return{colors:a,percents:r}}e.GD=r},c779:function(t,e,i){"use strict";i.r(e);var a=i("da9f"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},c819:function(t,e,i){"use strict";var a=i("306a"),n=i.n(a);n.a},cb5a:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */',""]),t.exports=e},d114:function(t,e,i){"use strict";i("7a82");var a=i("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("99af"),i("4de4"),i("d3b7"),i("159b"),i("14d9"),i("fb6a");var n=a(i("f07e")),r=a(i("c964")),o=a(i("f3f3")),s=a(i("d5ec")),d=a(i("2e9b")),c=i("26cb"),u={components:{lPainter:s.default},computed:(0,o.default)({},(0,c.mapState)(["islogin","member"])),data:function(){return{id:0,mid:0,goods:{},swiperDatas:[],sku:{},skuDatas:[],shareShow:!1,posterQRcode:"",posterUrl:"",posterShow:!1,posterData:{},couponShow:!1,couponDatas:[],tagShow:!1,tagDatas:[],evaluateDatas:[],evaluateTitle:"评价",html_nodes:"",favorite:!1,scrollTop:0}},watch:{sku:function(t){this.goods.price=t.price,this.goods.market_price=t.market_price,this.goods.stock_num=t.num}},onShareAppMessage:function(t){var e=0;return this.member&&this.member._id&&(e=this.member._id),{title:this.goods.share_title,path:"/pages/goods/goods?id=".concat(this.id,"&mid=").concat(e),success:function(t){console.log("转发成功",t)},fail:function(t){console.log("转发失败",t)}}},onPageScroll:function(t){this.$refs.usetop.change(t.scrollTop)},onLoad:function(t){if(console.log("onload opts",t),t)if(this.mid=t.mid||"",t.id)this.id=t.id;else if(t.q){var e=decodeURIComponent(t.q)||decodeURIComponent(uni.getStorageInfoSync("__scene_query_q"));this.resolveQueryq(e)}this.id||this.$api.msg("商品ID无效")},onShow:function(t){if(!this.id){var e=decodeURIComponent(uni.getStorageInfoSync("__scene_query_q"));this.resolveQueryq(e)}this.loadData()},methods:{loadData:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$func.usemall.call("goods/detail",{goods_id:t.id,share_mid:t.mid}).then((function(e){if(200===e.code){t.evaluateDatas=e.datas.evaluate,e.datas.evaluate_cnt&&(t.evaluateTitle="评价(".concat(e.datas.evaluate_cnt,")")),"string"===typeof e.datas.goods.imgs?t.swiperDatas=e.datas.goods.imgs.split(",").filter((function(t){return t})):t.swiperDatas=e.datas.goods.imgs,t.goods=e.datas.goods;var i=e.datas.goods_detail;t.html_nodes=i.desc_mobile;var a=e.datas.goods_skus;if(a.length>0){var n=[];a.forEach((function(e,i){n.push({id:e._id,sku:e.goods_sku,name:e.spec,price:e.price,market_price:e.market_price||t.goods.market_price,num:e.stock_num,selected:0==i})})),t.skuDatas=n}t.skuDatas.length>0&&(t.sku=t.skuDatas[0]),"string"===typeof t.goods.tags&&(t.goods.tags=t.goods.tags.split(",").filter((function(t){return t})));var r=[];return t.goods.tags.forEach((function(t,e){r.push({name:t,selected:0==e})})),t.tagDatas=r,void(t.favorite=1===t.goods.collected)}t.$api.msg(e.msg)}));case 2:case"end":return e.stop()}}),e)})))()},resolveQueryq:function(t){var e=t.split("/").slice(-1)[0].split("_");2==e.length&&(this.mid=e[1]),this.id=e[0]},preview:function(t,e){t&&uni.previewImage({urls:t,current:e,longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(t){console.log(res)},fail:function(t){console.log(t)}}})},shareOpen:function(){this.loginCheck()&&(this.shareShow=!0)},createPoster:function(){this.posterUrl?this.posterShow=!0:(uni.showLoading({title:"生成海报中"}),this.posterQRcode="https://usemall-h5.use-cloud.com/#/pages/goods/goods?id=".concat(this.goods._id,"&mid=").concat(this.member._id))},posterQRcodeResult:function(t){this.posterData=d.default.getGoodsData(this.member,this.goods,t),this.posterShow=!0},posterSuccess:function(t){this.posterUrl=t,uni.hideLoading()},posterSave:function(){this.posterUrl&&(uni.showLoading({title:"保存中"}),uni.saveImageToPhotosAlbum({filePath:this.posterUrl,success:function(){uni.hideLoading(),uni.showToast({title:"海报保存成功",icon:"success",duration:2e3})}}))},selectSKU:function(t){var e=this;this.skuDatas.forEach((function(i){t.sku==i.sku?e.$set(i,"selected",!0):e.$set(i,"selected",!1)})),this.sku=t},toevaluate:function(){uni.navigateTo({url:"/pages/goods/goods-evaluate?id=".concat(this.id)})},tohome:function(){this.$api.tohome()},tofavorite:function(){var t=this;if(this.loginCheck()){this.favorite=!this.favorite;var e={goods_id:this.id,state:this.favorite?"已收藏":"已取消"};this.$func.usemall.call("member/collect",e).then((function(e){e.datas?t.favorite?t.$api.msg("收藏成功"):t.$api.msg("取消成功"):t.$api.msg(e.msg)}))}},couponOpen:function(){},tocart:function(t){var e=this;this.loginCheck()&&this.$func.usemall.call("goods/addcart",{goods_id:t._id,goods_num:1,goods_sku:this.sku.id}).then((function(t){200!==t.code?e.$api.msg(t.msg):e.$api.msg(t.datas.msg)}))},tobuy:function(t){this.loginCheck()&&uni.navigateTo({url:"/pages/order/create?goods_id=".concat(this.id,"&sku_id=").concat(this.sku.id||"")})},loginCheck:function(){if(!this.islogin){var t=this;return uni.showModal({title:"授权登录",success:function(e){e.confirm&&t.$api.tologin()}}),!1}return!0}}};e.default=u},d5ec:function(t,e,i){"use strict";i.r(e);var a=i("dd3f"),n=i("2ac7");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var o=i("f0c5"),s=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=s.exports},d943:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-5d352ed5]{background:#f5f5f5;padding-bottom:%?120?%}body.?%PAGE?%[data-v-5d352ed5]{background:#f5f5f5}contact-button[data-v-5d352ed5]{display:flex;justify-content:center;align-items:center;width:50px;height:50px}.fixed-top[data-v-5d352ed5]{bottom:%?230?%}\n/* 01. 轮播区 */.swiper-area[data-v-5d352ed5]{height:%?720?%;top:0;z-index:-1}.swiper-area[data-v-5d352ed5]{margin-top:calc(44px + env(safe-area-inset-top));margin-top:44px}\n/* 02. 商品数据区 */.goods-area[data-v-5d352ed5]{margin-top:%?720?%}.goods-area .price-box[data-v-5d352ed5]{display:flex;align-items:baseline}.goods-area .title[data-v-5d352ed5]{color:#303133;height:%?46?%;line-height:%?46?%}.share-area .vertical-line[data-v-5d352ed5]{right:50%;height:40%}\n/* 03. 规格区 */.sku-area .active[data-v-5d352ed5]{background:#ff6a6c;color:#fff!important}\n/* 04. 服务区 */.icon-detail[data-v-5d352ed5]{right:%?30?%;top:%?24?%}\n/* 05. 评价 */.evaluate-area .portrait[data-v-5d352ed5]{flex-shrink:0;width:%?80?%;height:%?80?%}.evaluate-area .right-area uni-image[data-v-5d352ed5]{margin-right:%?10?%;margin-bottom:%?10?%;height:%?200?%;width:30%}\n/* 06. 详情区 */.detail-area[data-v-5d352ed5]{\n  /* 产品详情 */}.detail-area .d-header[data-v-5d352ed5]{font-size:%?30?%;color:#303133;position:relative}.detail-area .d-header uni-text[data-v-5d352ed5]{padding:0 %?20?%;background:#fff;position:relative;z-index:1}.detail-area .d-header[data-v-5d352ed5]:after{position:absolute;left:50%;top:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:%?300?%;height:0;content:"";border-bottom:1px solid #ccc}.detail-area .pro-detail[data-v-5d352ed5]{width:100%;overflow:hidden;-webkit-touch-callout:none}.detail-area .pro-detail img[data-v-5d352ed5]{width:100%;max-width:100%;overflow:hidden}\n/* 07. 操作区 */.oper-area[data-v-5d352ed5]{left:0;bottom:0;background:hsla(0,0%,100%,.95);box-shadow:0 0 %?20?% 0 #f0f0f0;height:%?100?%;z-index:95}.oper-area .btn-area[data-v-5d352ed5]{font-size:%?24?%;color:#75787d;width:%?96?%}.oper-area .btn-area .iconfont[data-v-5d352ed5]{font-size:%?40?%;line-height:%?48?%}\n/* 优惠券区 */.coupon-area[data-v-5d352ed5]{max-height:60vh;min-height:30vh}.coupon-area .coupon-item[data-v-5d352ed5]{margin-bottom:%?20?%}.coupon-area .coupon-item[data-v-5d352ed5]:last-child{margin-bottom:0}.coupon-area .coupon-item .content[data-v-5d352ed5]:after{position:absolute;left:0;bottom:0;content:"";width:100%;height:0;border-bottom:1px dashed #f3f3f3;-webkit-transform:scaleY(50%);transform:scaleY(50%)}.coupon-area .coupon-item .circle[data-v-5d352ed5]{position:absolute;bottom:%?-10?%;z-index:10;width:%?20?%;height:%?20?%;background:#f5f5f5;border-radius:50%}.coupon-area .coupon-item .circle.r[data-v-5d352ed5]{right:%?-6?%}.coupon-area .coupon-item .circle.l[data-v-5d352ed5]{left:%?-6?%}',""]),t.exports=e},d9c2:function(t,e,i){"use strict";i("7a82");var a=i("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.Layout=void 0,i("e9c4"),i("14d9"),i("d3b7"),i("b64b"),i("ac1f"),i("00b4"),i("d81d"),i("466d"),i("5319"),i("caad"),i("2532");var n=a(i("0122")),r=a(i("d0af")),o=a(i("fc11")),s=a(i("f07e")),d=a(i("c964")),c=a(i("276c")),u=a(i("e954")),l=i("fb70"),f=function(){function t(){(0,c.default)(this,t),this.layoutHeight=0,this.layoutWidth=0,this.uuid=0,this.count=0}return(0,u.default)(t,[{key:"init",value:function(t,e,i){this.ctx=t,this.root=e,this.layoutWidth=e.width||0,this.layoutHeight=e.height||0,this.uuid=0,this.isH5PathToBase64=i}},{key:"getNodeTree",value:function(){var t=(0,d.default)((0,s.default)().mark((function t(e){var i,a,n,r,o,d,c,u,l,f,h,v,p,g,m,b,x,w,y=arguments;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=y.length>1&&void 0!==y[1]?y[1]:{},a=y.length>2&&void 0!==y[2]?y[2]:0,n=y.length>3&&void 0!==y[3]?y[3]:[],r=y.length>4?y[4]:void 0,this.count++,o=Object.assign({},this.getComputedStyle(e,i,a)),t.next=8,this.getAttributes(e);case 8:if(d=t.sent,c={id:this.uuid++,parent:i,computedStyle:o,rules:e.rules,attributes:Object.assign({},d),name:(null===e||void 0===e?void 0:e.type)||"view",isRoot:!(null!==e&&void 0!==e&&e.type)&&"{}"==JSON.stringify(i)},"{}"!==JSON.stringify(i)||e.type?c.layoutBox=Object.assign({left:0,top:0},this.getLayoutBox(c,i,a,n,r)):(u=o.left,l=void 0===u?0:u,f=o.top,h=void 0===f?0:f,v=o.width,p=void 0===v?0:v,g=o.height,m=void 0===g?0:g,c.layoutBox={left:l,top:h,width:p,height:m}),null===e||void 0===e||!e.views){t.next=26;break}b=[],c.children=[],x=0;case 15:if(!(x<e.views.length)){t.next=25;break}return w=e.views[x],t.t0=b,t.next=20,this.getNodeTree(w,c,x,b,e);case 20:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 22:x++,t.next=15;break;case 25:c.children=b;case 26:return t.abrupt("return",c);case 27:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getComputedStyle",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={},s=t.name||t.type,d="{}"!=JSON.stringify(i)||s?t.css:t;if(!d)return a;var c=["color","fontSize","lineHeight","verticalAlign","fontWeight","textAlign"];i.computedStyle&&c.forEach((function(t){(d[t]||i.computedStyle[t])&&(d[t]=d[t]||i.computedStyle[t])}));for(var u=function(){var t=h[f],c=d[t];if("views"==t)return"continue";if(/^(box)?shadow$/i.test(t)){var u=c.split(" ").map((function(t){return/^\d/.test(t)?(0,l.toPx)(t):t}));return a.boxShadow=u,"continue"}if(/^border/i.test(t)&&!/radius$/i.test(t)){var v,p=t.match(/^border([BTRLa-z]+)?/)[0],g=t.match(/[W|S|C][a-z]+/),m=c.replace(/([\(,])\s+|\s+([\),])/g,"$1$2").split(" ").map((function(t){return/^\d/.test(t)?(0,l.toPx)(t,"",!0):t}));return a[p]=(v={},(0,o.default)(v,p+"Width",((0,l.isNumber)(m[0])?m[0]:0)||1),(0,o.default)(v,p+"Style",m[1]||"solid"),(0,o.default)(v,p+"Color",m[2]||"black"),v),1==m.length&&g&&(a[p][p+g[0]]=m[0]),"continue"}if(/^background(color)?$/i.test(t))return a["backgroundColor"]=c,"continue";if(/padding|margin|radius/i.test(t)){var b=/radius$/i.test(t),x=b?"borderRadius":t.match(/[a-z]+/)[0],w=[0,0,0,0].map((function(t,e){return b?["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"][e]:[x+"Top",x+"Right",x+"Bottom",x+"Left"][e]}));if("padding"===t||"margin"===t||/^(border)?radius$/i.test(t)){var y,k=(null===c||void 0===c?void 0:c.split(" ").map((function(t){return/^\d/.test(t)&&(0,l.toPx)(t,d["width"])}),[]))||[0],_=b?"borderRadius":t,C=(0,r.default)(k,4),S=C[0],P=C[1],T=C[2],M=C[3];a[_]=(y={},(0,o.default)(y,w[0],S),(0,o.default)(y,w[1],(0,l.isNumber)(P)?P:S),(0,o.default)(y,w[2],(0,l.isNumber)(T)?T:S),(0,o.default)(y,w[3],(0,l.isNumber)(M)?M:P||S),y)}else{var I;if("object"===(0,n.default)(a[x]))a[x][t]=(0,l.toPx)(c,d["width"]);else a[x]=(I={},(0,o.default)(I,w[0],a[x]||0),(0,o.default)(I,w[1],a[x]||0),(0,o.default)(I,w[2],a[x]||0),(0,o.default)(I,w[3],a[x]||0),I),a[x][t]=(0,l.toPx)(c,d["width"])}return"continue"}if(/^(width|height)$/i.test(t))return/%$/.test(c)?a[t]=(0,l.toPx)(c,i.layoutBox[t]):a[t]=/px|rpx$/.test(c)?(0,l.toPx)(c):c,"continue";if(/^transform$/i.test(t))return a[t]={},c.replace(/([a-zA-Z]+)\(([0-9,-\.%rpxdeg\s]+)\)/g,(function(e,i,n){var r=n.split(",").map((function(t){return t.replace(/(^\s*)|(\s*$)/g,"")})),o=function(t,e){return t.includes("deg")?1*t:e&&!/%$/.test(e)?(0,l.toPx)(t,e):t};i.includes("matrix")?a[t][i]=r.map((function(t){return 1*t})):i.includes("rotate")?a[t][i]=1*n.match(/^-?\d+(\.\d+)?/)[0]:/[X, Y]/.test(i)?a[t][i]=/[X]/.test(i)?o(r[0],d["width"]):o(r[0],d["height"]):(a[t][i+"X"]=o(r[0],d["width"]),a[t][i+"Y"]=o(r[1]||r[0],d["height"]))})),"continue";if(/^transformOrigin/i.test(t))return a[t]=c.replace(/^([%\.\da-zA-Z]+)$/,"$1 $1"),"continue";if(/%/.test(c)){var R=i.layoutBox,O=R.width,$=R.height,B=(R.left,R.top,e.root),D=B.width,L=B.height;a.position;a[t]="width"==t?(0,l.toPx)(c,O||D):"height"==t?(0,l.toPx)(c,$||L):"left"==t||"top"==t?c:(0,l.toPx)(c,d["width"])}else a[t]=/px|rpx$/.test(c)?(0,l.toPx)(c):/em$/.test(c)&&"text"==s?(0,l.toPx)(c,d["fontSize"]):c},f=0,h=Object.keys(d);f<h.length;f++)u();return/image/.test(t.name||t.type)&&!a.mode&&(a.mode=t.mode||"scaleToFill",d.width&&"auto"!=d.width||d.height&&"auto"!=d.width||(a.mode="")),a}},{key:"getLayoutBox",value:function(t){var e,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o={},s=t||{},d=s.name,c=s.computedStyle,u=(s.layoutBox,s.attributes);s.isRoot;if(!d)return o;var f=this.ctx,h=a.layoutBox,v=void 0===h?this.root:h,p=a.computedStyle,g=c.verticalAlign,m=c.left,b=c.top,x=c.width,w=c.height,y=c.fontSize,k=void 0===y?14:y,_=c.lineHeight,C=void 0===_?"1.4em":_,S=c.maxLines,P=c.fontWeight,T=c.fontFamily,M=c.textStyle,I=c.position,R=c.display,O=c.padding,$=void 0===O?{}:O,B=c.margin,D=void 0===B?{}:B,L=$.paddingTop,N=void 0===L?0:L,j=$.paddingRight,F=void 0===j?0:j,W=$.paddingBottom,z=void 0===W?0:W,E=$.paddingLeft,H=void 0===E?0:E,A=D.marginTop,U=void 0===A?0:A,q=D.marginRight,G=void 0===q?0:q,J=D.marginBottom,Q=void 0===J?0:J,X=D.marginLeft,Y=void 0===X?0:X,K=r[n-1]||{},V=K.layoutBox,Z=K.computedStyle,tt=K.name,et=r[n+1]||{},it=et.layoutBox,at=(et.computedStyle,et.name,(null===Z||void 0===Z||null===(e=Z.margin)||void 0===e?void 0:e.marginBottom)||0),nt=(null===Z||void 0===Z||null===(i=Z.margin)||void 0===i?void 0:i.marginRight)||0;if(/%$/.test(m)&&(m=(0,l.toPx)(m,v.width)),/%$/.test(b)&&(b=(0,l.toPx)(b,v.height)),"relative"==I&&(m+=v.left,b+=v.top),"text"===d){var rt=u.text||"";C=(0,l.toPx)(C,k),f.save(),f.setFonts({fontFamily:T,fontSize:k,fontWeight:P,textStyle:M});var ot=0==n,st="inlineBlock"===R,dt="block"===R||"block"===(null===Z||void 0===Z?void 0:Z.display),ct=ot&&!it||!(null!==a&&void 0!==a&&a.id),ut=ot||dt?0:V.offsetRight||0,lt=rt.split("\n"),ft=1,ht="",vt=c.textIndent||0;ct||st?(ht=rt,ft=Math.max(lt.length,Math.ceil(f.measureText(rt,k).width/((x||v.width)-f.measureText("!",k).width/2)))):lt.map((function(t,e){ft+=e;for(var i=t.split(""),a=0;a<i.length;a++){var n=i[a],r=ht+n,o=f.measureText(r,k).width;1==ft&&(o=o+(dt?0:ut)+vt),o>(x||v.width)?(ft++,ht=n):ht=r}})),st||(o.offsetLeft=((0,l.isNumber)(m)||dt||ct?vt:ut)+H+Y),o.offsetTop=N;var pt=f.measureText(ht,k).width,gt=(ft>1?v.width:pt+((null===o||void 0===o?void 0:o.offsetLeft)||0))+F;st||(o.offsetRight=(m||0)+o.offsetLeft+(x||(dt?v.width:pt))+F+G);var mt=V?V.left+V.width:0,bt=function(){return st?(mt+gt>v.width||ot?v.left:mt+nt)+Y:m||v.left},xt=function(){return st?gt+H+F:x||(!ct||dt?v.width:gt>v.width-o.left||ft>1?v.width-o.left:gt)},wt=function(){return w||(ft>1?(S?Math.min(S,ft):ft)*C+N+z:C+N+z)},yt=function(){var t=b;return t||(t=ot?v.top:1==ft&&gt<v.width&&"text"===tt&&!dt&&!st||V.width<v.width&&!(st&&mt+gt>v.width)?V.top:V.top+V.height-((null===a||void 0===a?void 0:a.id)&&((null===Z||void 0===Z?void 0:Z.lineHeight)||0))),"bottom"===g&&(t=v.top+(v.height-o.height||0)),"middle"===g&&(t=v.top+(v.height?(v.height-o.height||0)/2:0)),t+U+(dt&&(null===Z||void 0===Z?void 0:Z.lineHeight)||0)+(mt+gt>v.width?at:0)};o.left=bt(),o.width=xt(),o.height=wt(),o.top=yt(),p&&!p.height&&(v.height=o.top-v.top+o.height),f.restore()}else if(["view","qrcode"].includes(d))o.left=(m||v.left)+Y-G,o.width=(x||(null===v||void 0===v?void 0:v.width))-H-F,o.height=w||0,(0,l.isNumber)(b)?o.top=b+U:o.top=(V&&V.top+V.height||v.top)+U+at;else if("image"===d){var kt=u.width,_t=u.height,Ct=V&&V.left+V.width;if((0,l.isNumber)(m)?o.left=m+Y-G:o.left=(V&&(Ct<v.width?Ct:v.left)||v.left)+Y-G,(0,l.isNumber)(x)?o.width=x:o.width=Math.round((0,l.isNumber)(w)?kt*w/_t:null===v||void 0===v?void 0:v.width),(0,l.isNumber)(w))o.height=w;else{var St=Math.round(o.width*_t/kt);o.height=Math.min(St,null===v||void 0===v?void 0:v.height)}(0,l.isNumber)(b)?o.top=b+U:o.top=(V&&(Ct<v.width?Ct:V.top+V.height)||v.top)+U+at}return o.top+o.height+Q>this.layoutHeight&&(this.layoutHeight=o.top+o.height+Q),o}},{key:"getAttributes",value:function(){var t=(0,d.default)((0,s.default)().mark((function t(e){var i,a,n,r,o,d,c,u;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i={},!(null!==e&&void 0!==e&&e.url||null!==e&&void 0!==e&&e.src)){t.next=16;break}return i.src=e.url||(null===e||void 0===e?void 0:e.src),t.next=5,(0,l.getImageInfo)(i.src,this.isH5PathToBase64);case 5:if(t.t0=t.sent,t.t0){t.next=8;break}t.t0={};case 8:a=t.t0,n=a.width,r=void 0===n?0:n,o=a.height,d=void 0===o?0:o,c=a.path,u=a.originSrc,i=Object.assign({},i,{width:r,height:d,src:c,originSrc:u});case 16:return null!==e&&void 0!==e&&e.text&&(i.text=e.text),t.abrupt("return",i);case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"calcNode",value:function(){var t=(0,d.default)((0,s.default)().mark((function t(e){var i;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getNodeTree(e);case 2:return i=t.sent,i.count=this.count,t.abrupt("return",i);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}();e.Layout=f},da9f:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3");var a={props:{type:{type:String,default:"square"},title:{type:String,default:"列表标题"},size:{type:String,default:"28"},fwt:{type:String,default:"normal"},tip:{type:[String,Number],default:""},iconfont:{type:String,default:"icondaifahuo-"},color:{type:String,default:"#C0C4CC"},rightIcon:{type:String,default:"iconjiantou-01"},rightColor:{type:String,default:"#c0c0c0"}},data:function(){return{}},methods:{goto:function(){console.log("goto"),this.$emit("goto",{type:"goto"})}}};e.default=a},dd3f:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.canvasId?i("v-uni-view",[t.use2dCanvas?i("v-uni-canvas",{style:t.size+";"+t.customStyle,attrs:{id:t.canvasId,type:"2d"}}):i("v-uni-canvas",{style:t.size+";"+t.customStyle,attrs:{"canvas-id":t.canvasId,id:t.canvasId,width:t.boardWidth*t.dpr,height:t.boardHeight*t.dpr}})],1):t._e()},n=[]},ef87:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"use-totop fixed-top animated",class:t.visible?"fade-in":"dn",style:{bottom:t.bottom+"rpx",right:t.right+"rpx"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.totop.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"iconfont iconzhiding"})],1)},n=[]},f45d:function(t,e,i){"use strict";i.r(e);var a=i("0bdf"),n=i("ba5c");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("c819");var o=i("f0c5"),s=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"3e76155c",null,!1,a["a"],void 0);e["default"]=s.exports},fb70:function(t,e,i){"use strict";i("7a82");var a=i("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.base64ToPath=u,e.compareVersion=function(t,e){t=t.split("."),e=e.split(".");var i=Math.max(t.length,e.length);while(t.length<i)t.push("0");while(e.length<i)e.push("0");for(var a=0;a<i;a++){var n=parseInt(t[a],10),r=parseInt(e[a],10);if(n>r)return 1;if(n<r)return-1}return 0},e.getImageInfo=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(){var a=(0,r.default)((0,n.default)().mark((function a(r,o){var c,f;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(c=/^data:image\/(\w+);base64/,/^\.|^\/(?=[^\/])/,!s.test(t)||!e){a.next=6;break}return a.next=5,l(t);case 5:t=a.sent;case 6:if(!c.test(t)){a.next=16;break}if(d[t]){a.next=15;break}return f=t,a.next=11,u(t);case 11:t=a.sent,d[f]=t,a.next=16;break;case 15:t=d[t];case 16:d[t]&&d[t].errMsg&&!i?r(d[t]):uni.getImageInfo({src:t,success:function(e){e.path=e.path.replace(/^\./,window.location.origin),e.originSrc=t,d[t]=e,r(d[t])},fail:function(e){r({path:t}),console.error("getImageInfo:fail ".concat(t," failed ").concat(JSON.stringify(e)))}});case 17:case"end":return a.stop()}}),a)})));return function(t,e){return a.apply(this,arguments)}}())},e.isNumber=c,e.pathToBase64=l,e.sleep=function(t){return new Promise((function(e){return setTimeout(e,t)}))},e.toPx=function t(e,i){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"===typeof e)return e;if(c(e))return 1*e;if("string"===typeof e){var n=/^-?([0-9]+)?([.]{1}[0-9]+){0,1}(em|rpx|px|%)$/g,r=n.exec(e);if(!e||!r)return 0;var o=r[3];e=parseFloat(e);var s=0;return"rpx"===o?s=uni.upx2px(e):"px"===o?s=1*e:"%"===o?s=e*t(i)/100:"em"===o&&(s=e*t(i||14)),a?1*s.toFixed(2):Math.round(s)}};var n=a(i("f07e")),r=a(i("c964")),o=a(i("d0af"));i("d3b7"),i("ac1f"),i("00b4"),i("acd8"),i("14d9"),i("e25e"),i("c19f"),i("ace4"),i("c975"),i("5cc6"),i("907a"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("986a"),i("1d02"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("b39a"),i("72f7"),i("5319"),i("d401"),i("81b2"),i("0eb6"),i("b7ef"),i("8bd4"),i("3ca3"),i("ddb0"),i("2b3d"),i("9861"),i("e9c4"),i("d9e2"),i("99af");var s=/^(http|\/\/)/;var d={};function c(t){return/^-?\d+(\.\d+)?$/.test(t)}function u(t){var e=/data:image\/(\w+);base64,(.*)/.exec(t)||[],i=(0,o.default)(e,3);i[1],i[2];return new Promise((function(e,i){for(var a=t.split(",")[0].split(":")[1].split(";")[0],n=atob(t.split(",")[1]),r=new ArrayBuffer(n.length),o=new Uint8Array(r),s=0;s<n.length;s++)o[s]=n.charCodeAt(s);e(URL.createObjectURL(new Blob([o],{type:a})))}))}function l(t){return new Promise((function(e,i){var a=function(){var a=new Image;a.setAttribute("crossOrigin","Anonymous"),a.onload=function(){var t=document.createElement("canvas");t.width=this.naturalWidth,t.height=this.naturalHeight,t.getContext("2d").drawImage(a,0,0);var i=t.toDataURL("image/png");e(i),t.height=t.width=0},a.src=t,a.onerror=function(e){console.error("urlToBase64 error: ".concat(t),JSON.stringify(e)),i(new Error("urlToBase64 error"))}},n=function(t){var a=new FileReader;a.onload=function(t){e(t.target.result)},a.readAsDataURL(t),a.onerror=function(t){console.error("blobToBase64 error:",JSON.stringify(t)),i(new Error("blobToBase64 error"))}},r="function"===typeof FileReader;if(s.test(t)&&r){window.URL=window.URL||window.webkitURL;var o=new XMLHttpRequest;o.open("get",t,!0),o.timeout=2e3,o.responseType="blob",o.onload=function(){200==this.status?n(this.response):a()},o.onreadystatechange=function(){0===this.status&&console.error("图片跨域了，得后端处理咯")},o.send()}else/^blob/.test(t)&&r?n(t):a()}))}}}]);